<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-06-07 Tue 11:50 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>system-aez-notes</title>
<meta name="author" content="Alex Zarebski" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
</style>
<link id="stylesheet" rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">system-aez-notes</h1>
<p>
<a href="../index.html">Home</a>
</p>


<div id="org6ae6805" class="figure">
<p><img src="../images/linux-logo.png" alt="linux-logo.png" width="250px" />
</p>
</div>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgdedc185">Linux and Ubuntu notes</a>
<ul>
<li><a href="#orgd1c0552">Updating Ubuntu</a></li>
<li><a href="#org4316f17">System information</a></li>
<li><a href="#org0dbb444">USB</a></li>
<li><a href="#org0ce9129"><code>youtube-dl</code></a></li>
<li><a href="#org4bded11"><span class="todo TODO">TODO</span> Browsers</a></li>
<li><a href="#org55e58f0">Compression with zip</a></li>
<li><a href="#org55c7c20">Graphics (PNG, SVG, &#x2026;)</a></li>
<li><a href="#org152902f">Working with <span class="underline">PDF</span></a></li>
<li><a href="#orgd856b08">Fonts</a></li>
<li><a href="#org5538de2">File system permissions</a></li>
<li><a href="#org26bf5f9"><code>screen</code></a></li>
<li><a href="#orgff48d8d">The Oxford VPN</a></li>
<li><a href="#org70edae3">Finding your IP address</a></li>
<li><a href="#orgbe52f86"><code>scp</code></a></li>
<li><a href="#orgdf1e189">Symlinks</a></li>
<li><a href="#org8f047ce">Finding files with <code>find</code></a></li>
<li><a href="#org4e87634">Searching files with <code>grep</code></a></li>
<li><a href="#org080994e">Watching files with <code>inotifywait</code></a></li>
<li><a href="#org80880c3">Workspaces in Ubuntu</a></li>
<li><a href="#org974e30f">Monitor configuration</a></li>
<li><a href="#orge2fa074">Keyboard configuration</a></li>
<li><a href="#orgda6c5b6">Network connection Wi-Fi</a></li>
<li><a href="#org4e371db">Disk usage: <code>du</code></a></li>
<li><a href="#orged2edac">Disk usage: <i>Disk Usage Analyzer</i></a></li>
<li><a href="#orgd78de2c">Viewing hierarchy <code>tree</code></a></li>
<li><a href="#org0bbc270"><code>rsync</code></a></li>
<li><a href="#orga6d8f43">Getting help</a></li>
<li><a href="#org9df751d">Start up and configuration</a></li>
<li><a href="#org0b4aaeb">Bluetooth</a></li>
<li><a href="#org57f9252">Colour selection and hexcodes</a></li>
<li><a href="#org9df4261">Nautilus - A file manager for GNOME</a></li>
</ul>
</li>
<li><a href="#org14ea873">Packages</a>
<ul>
<li><a href="#org7406783">Removing a PPA</a></li>
<li><a href="#org24a1505">Uninstalling packages</a></li>
<li><a href="#org1f70a1f">AppImage</a></li>
</ul>
</li>
<li><a href="#org1212eb2">Shell scripting</a>
<ul>
<li><a href="#orgdb8caf4">Control flow</a></li>
<li><a href="#org6acf9a3">Running things in parallel by backgrounding</a></li>
<li><a href="#org629fe61">Arguments</a></li>
<li><a href="#orgb5aab70">Functions</a></li>
<li><a href="#org639c096">Loops</a></li>
<li><a href="#org418dd7e">Quiptic compiler</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgdedc185" class="outline-2">
<h2 id="orgdedc185">Linux and Ubuntu notes</h2>
<div class="outline-text-2" id="text-orgdedc185">
</div>
<div id="outline-container-orgd1c0552" class="outline-3">
<h3 id="orgd1c0552">Updating Ubuntu</h3>
<div class="outline-text-3" id="text-orgd1c0552">
<p>
The <code>do-release-upgrade</code> command can be used to run an update. First run
<code>do-release-upgrade -c</code> to check if there is an available upgrade. When asking
to upgrade you might get an error message saying that there are packages that
need to be upgraded first. Comments on the internet make this sound scary, but
when I encountered this I just needed to remove an old program I didn't need
which refused to upgrade and then everything worked fine.
</p>
</div>
</div>

<div id="outline-container-org4316f17" class="outline-3">
<h3 id="org4316f17">System information</h3>
<div class="outline-text-3" id="text-org4316f17">
<div class="org-src-container">
<pre class="src src-sh">neofetch
</pre>
</div>

<blockquote>
<p>
Neofetch is a CLI system information tool written in BASH. Neofetch displays
information about your system next to an image, your OS logo, or any ASCII file
of your choice.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org0dbb444" class="outline-3">
<h3 id="org0dbb444">USB</h3>
<div class="outline-text-3" id="text-org0dbb444">
</div>
<div id="outline-container-org0484015" class="outline-4">
<h4 id="org0484015">Mounting</h4>
<div class="outline-text-4" id="text-org0484015">
<p>
The following steps seem to work&#x2026;
</p>

<ol class="org-ol">
<li>Find the drive with <code>fdisk -l</code> (for example <code>/dev/sdc1</code>)</li>
<li>Mount the drive with <code>mount</code> (<code>mount /dev/sdc1 /media/usb-drive</code>)</li>
<li>Use the drive</li>
<li>Dismount with <code>umount</code> (<code>umount /media/usb-drive</code>)</li>
</ol>

<p>
Depending on how the drive is formatted you may need to install packages to work
with exFAT.
</p>
</div>
</div>

<div id="outline-container-orgb00a1d0" class="outline-4">
<h4 id="orgb00a1d0">Formatting a USB</h4>
<div class="outline-text-4" id="text-orgb00a1d0">
<p>
There is a wikihow which describes how to format a USB from the command line:
</p>

<p>
<a href="https://www.wikihow.com/Format-a-USB-Flash-Drive-in-Ubuntu">https://www.wikihow.com/Format-a-USB-Flash-Drive-in-Ubuntu</a>
</p>
</div>
</div>
</div>

<div id="outline-container-org0ce9129" class="outline-3">
<h3 id="org0ce9129"><code>youtube-dl</code></h3>
<div class="outline-text-3" id="text-org0ce9129">
<p>
There are instructions on how to install this program <a href="http://ytdl-org.github.io/youtube-dl/download.html">here</a>. Use <code>youtube-dl
--help</code> to get help on usage.
</p>
</div>
</div>

<div id="outline-container-org4bded11" class="outline-3">
<h3 id="org4bded11"><span class="todo TODO">TODO</span> Browsers</h3>
<div class="outline-text-3" id="text-org4bded11">
</div>
<div id="outline-container-org3b03691" class="outline-4">
<h4 id="org3b03691"><span class="todo TODO">TODO</span> Firefox</h4>
<div class="outline-text-4" id="text-org3b03691">
<ul class="org-ul">
<li>There is an interesting <a href="https://videoinu.com/blog/firefox-reader-view-heuristics/">explainer</a> on the <a href="https://support.mozilla.org/en-US/kb/firefox-reader-view-clutter-free-web-pages">Firefox Reader View</a>.</li>
<li>There are <i>profiles</i> as a way to toggle different configurations of Firefox.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org55e58f0" class="outline-3">
<h3 id="org55e58f0">Compression with zip</h3>
<div class="outline-text-3" id="text-org55e58f0">
<p>
To zip the directory <code>foo</code> into a file called <code>foo.zip</code> run the following
</p>

<div class="org-src-container">
<pre class="src src-shell">zip -r foo.zip foo
</pre>
</div>

<p>
To unpack a zipped up tarball use the following
</p>

<div class="org-src-container">
<pre class="src src-shell">tar -zxvf foobar.tar.gz
</pre>
</div>
</div>
</div>

<div id="outline-container-org55c7c20" class="outline-3">
<h3 id="org55c7c20">Graphics (PNG, SVG, &#x2026;)</h3>
<div class="outline-text-3" id="text-org55c7c20">
</div>
<div id="outline-container-org067bb4b" class="outline-4">
<h4 id="org067bb4b">PDF to PNG</h4>
<div class="outline-text-4" id="text-org067bb4b">
<p>
This will convert the input PDF to a PNG with 300 DPI.
</p>

<div class="org-src-container">
<pre class="src src-shell">convert -density 300 input.pdf output.png
</pre>
</div>

<p>
If you get weird permission errors you may need to edit the ImageMagick
<code>policy.xml</code> as described in this <a href="https://stackoverflow.com/a/52661288">answer</a>. Basically, this just requires editing
<code>/etc/ImageMagick-&lt;n&gt;/policy.xml</code> and changing the <code>rights</code> to <code>"read | write"</code> in the
PDF line.
</p>

<p>
You may also get complaints about the colour space, in which case try
</p>

<div class="org-src-container">
<pre class="src src-shell">convert -density 300 input.pdf -colorspace RGB output.png
</pre>
</div>
</div>
</div>

<div id="outline-container-org9382dc1" class="outline-4">
<h4 id="org9382dc1">Dithering</h4>
<div class="outline-text-4" id="text-org9382dc1">
<p>
This is the process of compressing an image to reduce its size. With a little
bit of care this can produce appealing images that are much smaller than the
original. Some of the logos on the <a href="https://aezarebski.github.io/">home page</a> are dithered using <a href="https://ditherit.com/">ditherit</a> with
the following settings.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Variable</th>
<th scope="col" class="org-left">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Palette</td>
<td class="org-left">Blue &amp; Yellow</td>
</tr>

<tr>
<td class="org-left">Width</td>
<td class="org-left">400px</td>
</tr>

<tr>
<td class="org-left">Algorithm</td>
<td class="org-left">FloydSteinberg</td>
</tr>
</tbody>
</table>

<p>
In some cases these settings lead to <i>larger</i> files than the original, in that
case, try tweak the width parameter and you can get vastly improved performance
without visible issues.
</p>
</div>
</div>

<div id="outline-container-org936e67d" class="outline-4">
<h4 id="org936e67d">Inverting colours</h4>
<div class="outline-text-4" id="text-org936e67d">
<p>
The following can be used to invert the colours of a PNG with ImageMagick
</p>

<div class="org-src-container">
<pre class="src src-sh">convert input.png -channel RGB -negate output.png
</pre>
</div>
</div>
</div>

<div id="outline-container-org4727269" class="outline-4">
<h4 id="org4727269">SVG to PDF/PNG</h4>
<div class="outline-text-4" id="text-org4727269">
<p>
See <a href="./inkscape-notes.html">my inkscape notes</a> for details on how to do this.
</p>
</div>
</div>

<div id="outline-container-org9779875" class="outline-4">
<h4 id="org9779875">Resizing a PNG</h4>
<div class="outline-text-4" id="text-org9779875">
<ol class="org-ol">
<li>Open the image in GIMP</li>
<li><code>Image &gt; Scale Image</code></li>
<li>Set the interpolation to <i>cubic</i></li>
<li>Click <code>Scale</code></li>
<li>Save or export in the desired format</li>
</ol>
</div>
</div>

<div id="outline-container-org16f5826" class="outline-4">
<h4 id="org16f5826">Removing background from PNG</h4>
<div class="outline-text-4" id="text-org16f5826">
<ol class="org-ol">
<li>Open the image in GIMP as layers</li>
<li>Right click and use Colours then Colours to Alpha and it should remove the
background.</li>
<li>Save this as a new image.</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org152902f" class="outline-3">
<h3 id="org152902f">Working with <span class="underline">PDF</span></h3>
<div class="outline-text-3" id="text-org152902f">
<p>
LibreOffice Draw is surprisingly good for editing and annotating PDFs!
</p>

<p>
<code>pdftk</code> is a great tool for working with the pages of a PDF. The man page has
some useful examples.
</p>
</div>

<div id="outline-container-orgdc8f0a5" class="outline-4">
<h4 id="orgdc8f0a5">Splitting a PDF into pages</h4>
<div class="outline-text-4" id="text-orgdc8f0a5">
<div class="org-src-container">
<pre class="src src-sh">pdftk pdftk input.pdf burst
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbfaee48" class="outline-4">
<h4 id="orgbfaee48">Extracting a subset of the pages</h4>
<div class="outline-text-4" id="text-orgbfaee48">
<p>
Extract pages 1&#x2013;12 from <code>input.pdf</code> and write them to <code>output.pdf</code>
</p>

<div class="org-src-container">
<pre class="src src-sh">pdftk input.pdf cat 1-12 output output.pdf
</pre>
</div>
</div>
</div>

<div id="outline-container-org8240cb3" class="outline-4">
<h4 id="org8240cb3">Join multiple documents</h4>
<div class="outline-text-4" id="text-org8240cb3">
<div class="org-src-container">
<pre class="src src-sh">pdftk in1.pdf in2.pdf cat output out1.pdf
</pre>
</div>
</div>
</div>

<div id="outline-container-org61ae6bb" class="outline-4">
<h4 id="org61ae6bb">Extracting figures</h4>
<div class="outline-text-4" id="text-org61ae6bb">
<p>
See notes <a href="./inkscape-notes.html#orgbc15d81">here</a>.
</p>
</div>
</div>
</div>

<div id="outline-container-orgd856b08" class="outline-3">
<h3 id="orgd856b08">Fonts</h3>
<div class="outline-text-3" id="text-orgd856b08">
<p>
To install the Monaco font there is a useful <a href="https://askubuntu.com/a/333410">stackexchange post</a> linking to a
script. For the Source Code Pro font, I have a script in my dotfiles repository.
If the method above does not work, you can download the TTF file into
<code>~/.fonts/</code> and then run <code>sudo fc-cache -fv</code> and it should work after that.
</p>
</div>
</div>
<div id="outline-container-org5538de2" class="outline-3">
<h3 id="org5538de2">File system permissions</h3>
<div class="outline-text-3" id="text-org5538de2">
<p>
A file can be read from, <code>r</code>, written to, <code>w</code>, or executed, <code>x</code>. The permission
to carry out these actions is specified for the owner of the file, members of
the group, and other users. For example, <code>rwxr-x---</code> means the owner has read
write and execute, other group members can read and execute and others cannot
read, write or execute. The <code>chmod</code> functions is used to change the permissions.
</p>

<div class="org-src-container">
<pre class="src src-shell">chmod 750 foo.sh  # makes foo.sh rwxr-x---
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">rwx</th>
<th scope="col" class="org-right">code</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>rwx</code></td>
<td class="org-right">7</td>
</tr>

<tr>
<td class="org-left"><code>rw-</code></td>
<td class="org-right">6</td>
</tr>

<tr>
<td class="org-left"><code>r-x</code></td>
<td class="org-right">5</td>
</tr>

<tr>
<td class="org-left"><code>r--</code></td>
<td class="org-right">4</td>
</tr>

<tr>
<td class="org-left"><code>-wx</code></td>
<td class="org-right">3</td>
</tr>

<tr>
<td class="org-left"><code>-w-</code></td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left"><code>--x</code></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"><code>---</code></td>
<td class="org-right">0</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org26bf5f9" class="outline-3">
<h3 id="org26bf5f9"><code>screen</code></h3>
<div class="outline-text-3" id="text-org26bf5f9">
<ul class="org-ul">
<li>You need to have <code>screen</code> installed.</li>
<li>Start a new screen session with <code>screen</code>.</li>
<li>Detach from a screen with <code>C-a d</code>.</li>
<li>Re-attach to a screen with <code>screen -r</code> from the command line.</li>
<li><code>screen -ls</code> will list existing screens.</li>
</ul>

<p>
To kill a screen, <code>C-a k</code> will ask for confirmation you want to kill the screen.
</p>
</div>
</div>

<div id="outline-container-orgff48d8d" class="outline-3">
<h3 id="orgff48d8d">The Oxford VPN</h3>
<div class="outline-text-3" id="text-orgff48d8d">
<p>
To run the VPN GUI in Ubuntu
</p>

<div class="org-src-container">
<pre class="src src-shell">/opt/cisco/anyconnect/bin/vpnui
</pre>
</div>

<p>
Then you need to connect to <code>vpn.ox.ac.uk</code> with the <code>zool[0-9]{4}</code> username.
</p>
</div>

<div id="outline-container-org0dd7773" class="outline-4">
<h4 id="org0dd7773"><code>ssh</code></h4>
<div class="outline-text-4" id="text-org0dd7773">
<p>
Adding the following to your <code>~/.ssh/config</code> file will make ssh-ing a bit nicer.
</p>

<pre class="example">
Host zool
    HostName &lt;IP&gt;
    User &lt;USERNAME&gt;
</pre>

<p>
Then you only need to do <code>ssh foobar</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-org70edae3" class="outline-3">
<h3 id="org70edae3">Finding your IP address</h3>
<div class="outline-text-3" id="text-org70edae3">
<p>
This information is available from <b>Settings &gt; Network</b> and then click on the
button (cog) next to the wired connection.
</p>

<p>
Alternatively, you can use <code>ifconfig</code> at the command line which will print out a
bunch of network information and you should be able to spot a sensible IP
address among it.
</p>
</div>
</div>

<div id="outline-container-orgbe52f86" class="outline-3">
<h3 id="orgbe52f86"><code>scp</code></h3>
<div class="outline-text-3" id="text-orgbe52f86">
<p>
Here is an example of a script I used to copy files from my desktop at work to
my laptop.
</p>

<div class="org-src-container">
<pre class="src src-sh">LOCAL_DIR=out/result-v2
REMOTE_DIR=/home/aez/projects/example/$LOCAL_DIR
REMOTE_HOST=zool

scp $REMOTE_HOST:$REMOTE_DIR/*{html,png} $LOCAL_DIR/
</pre>
</div>

<p>
Note that this makes use of the <code>zool</code> alias from <a href="#org0dd7773">above</a>.
</p>
</div>
</div>

<div id="outline-container-orgdf1e189" class="outline-3">
<h3 id="orgdf1e189">Symlinks</h3>
<div class="outline-text-3" id="text-orgdf1e189">
<div class="org-src-container">
<pre class="src src-shell">ln -s /path/to/file /path/to/symlink
</pre>
</div>

<p>
Note that these paths need to be full paths otherwise the file wont get found.
</p>
</div>
</div>

<div id="outline-container-org8f047ce" class="outline-3">
<h3 id="org8f047ce">Finding files with <code>find</code></h3>
<div class="outline-text-3" id="text-org8f047ce">
</div>
<div id="outline-container-org52d1a71" class="outline-4">
<h4 id="org52d1a71"><code>find</code> example 1</h4>
<div class="outline-text-4" id="text-org52d1a71">
<p>
To find all the PNG files down from the current directory.
</p>

<div class="org-src-container">
<pre class="src src-shell">find . -regex ".*png$"
</pre>
</div>
</div>
</div>

<div id="outline-container-org23c30f8" class="outline-4">
<h4 id="org23c30f8"><code>find</code> example 2</h4>
<div class="outline-text-4" id="text-org23c30f8">
<p>
To (recursively) find all files with "figure-1" appearing the their name use the
following.
</p>

<div class="org-src-container">
<pre class="src src-shell">find . -name \*figure-1\* -print
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4e87634" class="outline-3">
<h3 id="org4e87634">Searching files with <code>grep</code></h3>
<div class="outline-text-3" id="text-org4e87634">
<p>
<code>grep [OPTION]... PATTERNS [FILE]...</code>
</p>
</div>

<div id="outline-container-org55010f5" class="outline-4">
<h4 id="org55010f5"><code>grep</code> example 1</h4>
<div class="outline-text-4" id="text-org55010f5">
<p>
Search files in the current directory with filenames matching <code>"*l*notes.org"</code>
which contain the string <code>"foo"</code>, and show the line <i>number</i>.
</p>

<div class="org-src-container">
<pre class="src src-shell">grep -r -n --include="*l*notes.org" "foo" .
</pre>
</div>
</div>
</div>

<div id="outline-container-org21974fd" class="outline-4">
<h4 id="org21974fd">finding and grepping example</h4>
<div class="outline-text-4" id="text-org21974fd">
<p>
The following recursively searches down from <code>public-site/org</code> for files with
names matching the pattern <code>.*book.*</code> and then pipes these into a grep command
looking for lines matching the pattern <code>"rnest"</code>.
</p>

<div class="org-src-container">
<pre class="src src-shell">find public-site/org/ -regex ".*book.*" -print0 | xargs -0 grep "rnest"
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org080994e" class="outline-3">
<h3 id="org080994e">Watching files with <code>inotifywait</code></h3>
<div class="outline-text-3" id="text-org080994e">
<p>
The package <code>inotify-tools</code> provides the <code>inotifywait</code> command which will run a
command after an event relating to a file occurs.
</p>
</div>

<div id="outline-container-orgaa2a4b8" class="outline-4">
<h4 id="orgaa2a4b8">Example</h4>
<div class="outline-text-4" id="text-orgaa2a4b8">
<p>
You want to compile a PDF every time the file <code>demo.tex</code> gets modified. The
following shell script &#x2014; modified from <a href="https://superuser.com/a/181543">this stackoverflow answer</a> &#x2014; will
achieve this using <code>inotifywait</code>.
</p>

<div class="org-src-container">
<pre class="src src-sh">WATCH_FILE=demo.tex

inotifywait -q -m -e close_write $WATCH_FILE |
    while read -r filename event; do
	pdflatex $WATCH_FILE
    done
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org80880c3" class="outline-3">
<h3 id="org80880c3">Workspaces in Ubuntu</h3>
<div class="outline-text-3" id="text-org80880c3">
<p>
You can have multiple workspaces in Ubuntu 20.04 to hold different collections
of applications. To move between the workspaces use <code>CRTL + ALT + up/down</code>. I've
noticied this plays up sometimes if you press the keys too quickly so slow it
down if you notice that.
</p>
</div>
</div>

<div id="outline-container-org974e30f" class="outline-3">
<h3 id="org974e30f">Monitor configuration</h3>
<div class="outline-text-3" id="text-org974e30f">
<p>
The <code>xrandr</code> command allows you to specify the configuration of the monitor/s.
There is a GUI for <code>xranrd</code> called <code>arandr</code> which may substantially simplify the
process of configuring the monitor. Once you have a configuration you are happy
with, you can use <code>arandr</code> to write it to file. By default these configurations
will be stored in the <code>~/.screenlayout</code> directory.
</p>

<p>
When I first installed Ubuntu, the windows were all far too small. Running
<code>xrandr -s 1440x900</code> was much more suitable for a 14 inch laptop. <b>Update:</b> all
of a sudden the display on my second monitor went strange. I tried use <code>xrandr</code>
to set the display to <code>1440x900</code> but it didn't appear as one of the options. The
<a href="https://www.tecmint.com/set-display-screen-resolution-in-ubuntu/">solution</a> was to run the following command.
</p>

<pre class="example">
$ cvt 1440 900
# 1440x900 59.89 Hz (CVT 1.30MA) hsync: 55.93 kHz; pclk: 106.50 MHz
Modeline "1440x900_60.00"  106.50  1440 1528 1672 1904  900 903 909 934 -hsync +vsync
</pre>

<p>
The output of this is then what you are meant to use to fix the display by
running the following
</p>

<pre class="example">
$ xrandr --newmode "1440x900_60.00"  106.50  1440 1528 1672 1904  900 903 909 934 -hsync +vsync
$ xrandr --addmode DP-1 "1440x900_60.00"
$ xrandr -s 1440x900
</pre>

<p>
They say for this to persist, you need to add those lines to a file at
<code>/etc/profile.d/external_monitor_resolution.sh</code> but I haven't tried this yet.
</p>
</div>
</div>

<div id="outline-container-orge2fa074" class="outline-3">
<h3 id="orge2fa074">Keyboard configuration</h3>
<div class="outline-text-3" id="text-orge2fa074">
<p>
The caps lock key is solid real-estate but is wildly underutilised, and control is more useful than alt a lot of the time.
Adding the following to a file called <code>Xmodmap</code> and then run it with <code>xmodmap &lt;path/to/Xmodmap&gt;</code>.
It will switch escape and caps lock and the right alt key will become another control key.
</p>

<pre class="example">
clear lock
keycode 9 = Caps_Lock
keycode 66 = Escape

remove Control = Control_R
remove Mod1 = Alt_R
keycode 105 = Alt_R
keycode 108 = Control_R
add Control = Control_R
add Mod1 = Alt_R
</pre>
</div>
</div>

<div id="outline-container-orgda6c5b6" class="outline-3">
<h3 id="orgda6c5b6">Network connection Wi-Fi</h3>
<div class="outline-text-3" id="text-orgda6c5b6">
<p>
Use <code>nmcli device wifi list</code> to get a list of all the available wifi networks.
Note the SSID of the network you want to connect to.
</p>

<div class="org-src-container">
<pre class="src src-sh">nmcli device wifi connect &lt;SSID&gt; password &lt;password&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org4e371db" class="outline-3">
<h3 id="org4e371db">Disk usage: <code>du</code></h3>
<div class="outline-text-3" id="text-org4e371db">
<p>
The following will print, in human readable form, the size of all
sub-directories of <code>foobar</code> recursively up to 2 levels deep.
</p>

<div class="org-src-container">
<pre class="src src-sh">du -h --max-depth=2 foobar
</pre>
</div>

<p>
Although, unless you are limited to a terminal, something like <a href="#orged2edac">disk usage
analyzer GUI</a> is a much better solution.
</p>
</div>
</div>

<div id="outline-container-orged2edac" class="outline-3">
<h3 id="orged2edac">Disk usage: <i>Disk Usage Analyzer</i></h3>
<div class="outline-text-3" id="text-orged2edac">
<p>
The <i>Disk Usage Analyzer</i> provides an interactive tree map of disk usage which
makes it easy to find large files on your machine.
</p>
</div>
</div>

<div id="outline-container-orgd78de2c" class="outline-3">
<h3 id="orgd78de2c">Viewing hierarchy <code>tree</code></h3>
<div class="outline-text-3" id="text-orgd78de2c">
<p>
Definitely want to use this with colour!
</p>

<div class="org-src-container">
<pre class="src src-sh">tree -C &lt;filepath&gt;
</pre>
</div>

<p>
Be careful though, if you use this without thinking you can get a ridiculous
amount of material printed out. There is a command line option for ignoring
particular directories.
</p>
</div>
</div>

<div id="outline-container-org0bbc270" class="outline-3">
<h3 id="org0bbc270"><code>rsync</code></h3>
<div class="outline-text-3" id="text-org0bbc270">
<p>
The <code>rsync</code> utility provides a way to synchronise the files on two machines.
There is a useful introduction to rsync <a href="https://everythinglinux.org/rsync/">here</a>.
</p>

<pre class="example">
rsync [OPTIONS] SRC DEST
</pre>

<p>
My use case for this is keeping the same set of PDFs on multiple machines. The
following command will make a copy of all the files on <code>zool</code> in the library to
my local library.
</p>

<div class="org-src-container">
<pre class="src src-shell">rsync --verbose --progress --stats --compress --rsh=/usr/bin/ssh \
      --recursive --times --perms --links \
      zool:/home/aez/Documents/library/* /home/aez/Documents/library/
</pre>
</div>

<p>
Here we have used <code>zool</code> which is a host described in <code>~/.ssh/config</code> .
I have a <a href="../resources/titanic.txt">script</a> to synchronise my libraries across machines.
</p>
</div>

<div id="outline-container-org2a3fbbe" class="outline-4">
<h4 id="org2a3fbbe">Do not overwrite</h4>
<div class="outline-text-4" id="text-org2a3fbbe">
<p>
There is the flag <code>--ignore-existing</code> which tells rsync not to send files that
already exist on the other side. This is useful if you do not want to
accidentally overwrite something. To get a report of which files have been
skipped you can also use <code>--info=skip</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-orga6d8f43" class="outline-3">
<h3 id="orga6d8f43">Getting help</h3>
<div class="outline-text-3" id="text-orga6d8f43">
<p>
Sometimes you can find error messages in the following log file.
</p>

<div class="org-src-container">
<pre class="src src-shell">less /var/log/syslog
</pre>
</div>
</div>
</div>

<div id="outline-container-org9df751d" class="outline-3">
<h3 id="org9df751d">Start up and configuration</h3>
<div class="outline-text-3" id="text-org9df751d">
<p>
To avoid confusion between the <code>.bashrc</code> and <code>.bash_profile</code> you can just add
the following to <code>.bash_profile</code> and then you'll have the same script evaluated
regardless.
</p>

<div class="org-src-container">
<pre class="src src-sh">if [ -f $HOME/.bashrc ]; then
    source $HOME/.bashrc
fi
</pre>
</div>

<p>
By default, tab completion is case sensitive, to fix this add the following line
to the file <code>/etc/inputrc</code>.
</p>

<pre class="example">
set completion-ignore-case on
</pre>
</div>
</div>

<div id="outline-container-org0b4aaeb" class="outline-3">
<h3 id="org0b4aaeb">Bluetooth</h3>
<div class="outline-text-3" id="text-org0b4aaeb">
<p>
If you find that audio comes out stuttery, try restarting bluetooth with the
following command:
</p>

<div class="org-src-container">
<pre class="src src-sh">sudo service bluetooth restart
</pre>
</div>

<p>
You may have to repeat this process a few times, but it seems to work
eventually.
</p>
</div>
</div>

<div id="outline-container-org57f9252" class="outline-3">
<h3 id="org57f9252">Colour selection and hexcodes</h3>
<div class="outline-text-3" id="text-org57f9252">
<p>
The program <i>Gpick</i> displays the hexcode of the pixel under the cursor.
</p>
</div>
</div>

<div id="outline-container-org9df4261" class="outline-3">
<h3 id="org9df4261">Nautilus - A file manager for GNOME</h3>
<div class="outline-text-3" id="text-org9df4261">
<p>
To open <i>nautilus</i> without the desktop fuss use <code>nautilus --no-desktop</code>
</p>
</div>

<div id="outline-container-org81b506f" class="outline-4">
<h4 id="org81b506f">Using nautilus to browse files on a remote machine</h4>
<div class="outline-text-4" id="text-org81b506f">
<ol class="org-ol">
<li>Open nautilus</li>
<li>"Other Locations" &gt; "Connect to Server"</li>
<li>SSH <i>not</i> FTP</li>
</ol>
</div>
</div>
</div>
</div>

<div id="outline-container-org14ea873" class="outline-2">
<h2 id="org14ea873">Packages</h2>
<div class="outline-text-2" id="text-org14ea873">
</div>
<div id="outline-container-org7406783" class="outline-3">
<h3 id="org7406783">Removing a PPA</h3>
<div class="outline-text-3" id="text-org7406783">
<ol class="org-ol">
<li>Open <b>Software &amp; Updates</b>.</li>
<li>Navigate to the <b>Other Software</b> tab.</li>
<li>Select and <b>Remove</b> the desired PPAs.</li>
</ol>
</div>
</div>

<div id="outline-container-org24a1505" class="outline-3">
<h3 id="org24a1505">Uninstalling packages</h3>
<div class="outline-text-3" id="text-org24a1505">
</div>
<div id="outline-container-org33728b0" class="outline-4">
<h4 id="org33728b0">remove package with <code>remove</code></h4>
<div class="outline-text-4" id="text-org33728b0">
<div class="org-src-container">
<pre class="src src-sh">sudo apt remove &lt;package-name&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf6ac42f" class="outline-4">
<h4 id="orgf6ac42f">remove package configuration with <code>purge</code></h4>
<div class="outline-text-4" id="text-orgf6ac42f">
<div class="org-src-container">
<pre class="src src-sh">sudo apt purge &lt;package-name&gt;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1f70a1f" class="outline-3">
<h3 id="org1f70a1f">AppImage</h3>
<div class="outline-text-3" id="text-org1f70a1f">
<p>
This is a new way to distribute packages: download the file, make the file
exectuble, and run it. Done! If you are concerned about what the program might
do, there are sandboxes available, for example <a href="https://firejail.wordpress.com/">Firejail</a>. Inkscape is available
as an appimage.
</p>
</div>
</div>
</div>

<div id="outline-container-org1212eb2" class="outline-2">
<h2 id="org1212eb2">Shell scripting</h2>
<div class="outline-text-2" id="text-org1212eb2">
<p>
On my machine at uni this is <code>/bin/sh</code> which points to <code>/bin/dash</code>
</p>
</div>

<div id="outline-container-orgdb8caf4" class="outline-3">
<h3 id="orgdb8caf4">Control flow</h3>
<div class="outline-text-3" id="text-orgdb8caf4">
<p>
To run comands conditional upon the presence or absence of a directory, consider
the following example
</p>

<div class="org-src-container">
<pre class="src src-sh">if [ -d "foobar" ]; then
    echo "There is a directory called foobar"
    exit 0
fi

if [ ! -d "foobar" ]; then
    echo "Could not find directory: foobar"
    exit 1
fi
</pre>
</div>
</div>
</div>

<div id="outline-container-org6acf9a3" class="outline-3">
<h3 id="org6acf9a3">Running things in parallel by backgrounding</h3>
<div class="outline-text-3" id="text-org6acf9a3">
</div>
<div id="outline-container-org22cd948" class="outline-4">
<h4 id="org22cd948">Example 1</h4>
<div class="outline-text-4" id="text-org22cd948">
<p>
This solution came from the very clever <a href="https://www.clairemmiller.com/">Claire Miller</a> for how one can do
map-reduce style computations correctly via bash. Note that this actually needs
<code>bash</code>, it does not work with <code>sh</code> alone.
</p>

<div class="org-src-container">
<pre class="src src-sh"># waiter.sh
echo "Starting"

pids=()

for i in $(seq 1 5)
do
  sleep 4 &amp;&amp; echo "Done part $i" &amp; pids+=($!)
done

wait "${pids[@]}"
echo "Finished :)"
</pre>
</div>

<p>
which should produce the following output.
</p>

<pre class="example">
$ bash waiter.sh
Starting
Done part 3
Done part 1
Done part 2
Finished :)
</pre>
</div>
</div>

<div id="outline-container-org3db842e" class="outline-4">
<h4 id="org3db842e">Example 2</h4>
<div class="outline-text-4" id="text-org3db842e">
<p>
A slightly more complicated example demonstrating how to chunk processes into
subsets to run in parallel before moving onto the next chunk.
</p>

<div class="org-src-container">
<pre class="src src-sh">#!/usr/bin/env bash

chunk_size=5                    # the number of processes in each chunk
limit=20                        # the total number of processes
ix=0

outer_limit="$(($limit-$chunk_size))"
while [ $ix -le $outer_limit ]
do
    pids=()
    chunk_limit="$(($ix+$chunk_size))"
    while [ $ix -lt $chunk_limit ]
    do
	padded_num=$(printf "%03d" $ix)
	echo $padded_num &amp;&amp; sleep 1s &amp; pids+=($!)
	((ix++))
    done
    wait "${pids[@]}"
    echo "---"
done
</pre>
</div>

<p>
which produces
</p>

<pre class="example">
 $ ./demo.sh
000
001
002
003
004
---
005
006
007
008
009
---
010
011
012
013
014
---
015
016
017
018
019
---
</pre>
</div>
</div>
</div>

<div id="outline-container-org629fe61" class="outline-3">
<h3 id="org629fe61">Arguments</h3>
<div class="outline-text-3" id="text-org629fe61">
<p>
As an example, here is a simple shell script
</p>

<div class="org-src-container">
<pre class="src src-sh">#!/bin/sh
# demo.sh
echo "foo: $2"
echo "bar: $1"
</pre>
</div>

<p>
Running it we get the following
</p>

<div class="org-src-container">
<pre class="src src-text">$ ./demo.sh hello world
foo: world
bar: hello
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb5aab70" class="outline-3">
<h3 id="orgb5aab70">Functions</h3>
<div class="outline-text-3" id="text-orgb5aab70">
</div>
<div id="outline-container-org8b73639" class="outline-4">
<h4 id="org8b73639">Converting ODG to PDF</h4>
<div class="outline-text-4" id="text-org8b73639">
<p>
Here is an example of a function which converts an ODG to a PDF
</p>

<div class="org-src-container">
<pre class="src src-sh">ConvertODG2PDF () {
    libreoffice --headless --convert-to pdf $1
}

ConvertODG2PDF awesome-figure.odg
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb830b38" class="outline-4">
<h4 id="orgb830b38">Compiling and converting a standalone latex equation</h4>
<div class="outline-text-4" id="text-orgb830b38">
<div class="org-src-container">
<pre class="src src-sh">
compileStandAlone () {
    pdflatex $1.tex
    convert -flatten -density 300 $1.pdf -colorspace RGB $1.png
    rm $1.aux
    rm $1.log
    rm $1.pdf
}

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org639c096" class="outline-3">
<h3 id="org639c096">Loops</h3>
<div class="outline-text-3" id="text-org639c096">
<p>
Here is a silly little example of how to loop over an explicity list of strings.
</p>

<div class="org-src-container">
<pre class="src src-sh">for month in jan feb mar;
do
    cat foo-$month.csv
done
</pre>
</div>

<p>
Alternatively, one can construct the list programmatically for example with <code>for
x in *</code> which would be used to iterate over all files in the current directory
or <code>for x in $*</code> which would iterate over all the command line arguments.
</p>

<p>
Here is another example of iterating over some integers and print 1, 2, 3 to
standard out.
</p>

<div class="org-src-container">
<pre class="src src-sh">for ix in `seq 1 3`;
do
    echo $ix
done
</pre>
</div>
</div>
</div>

<div id="outline-container-org418dd7e" class="outline-3">
<h3 id="org418dd7e">Quiptic compiler</h3>
<div class="outline-text-3" id="text-org418dd7e">
<p>
The following helps you to quickly download a bunch of crosswords and compile
them into a single PDF. We use the <code>sleep</code> command to be kind to the Guardian
servers.
</p>

<div class="org-src-container">
<pre class="src src-sh">for i in $(seq 1140 1165)
do
    sleep 2                     # be nice!
    google-chrome --headless --disable-gpu --print-to-pdf https://www.theguardian.com/crosswords/quiptic/$i/print
    mv output.pdf quiptic-$i.pdf
done

echo "==========================================================="
echo ""
echo "Guardian - Quiptics"
echo "-------------------"
echo ""
echo "Use the following command to compile the quiptics into a"
echo "single pdf after you have removed any broken ones by hand:"
echo ""
echo "pdftk quiptic-* cat output quiptics.pdf"
echo ""
echo "==========================================================="
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Alex Zarebski</p>
<p class="date">Created: 2022-06-07 Tue 11:50</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
