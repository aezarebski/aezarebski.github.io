<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-10-26 Wed 18:01 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>org-mode-aez-notes</title>
<meta name="author" content="Alex Zarebski" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link id="stylesheet" rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">org-mode-aez-notes</h1>
<p>
<a href="../index.html">Home</a>
</p>


<div id="org3edc919" class="figure">
<p><img src="../images/org-mode-logo.png" alt="org-mode-logo.png" width="250px" />
</p>
</div>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgfde98a4">Org mode notes</a>
<ul>
<li><a href="#orgb8d48c9">Further reading</a></li>
<li><a href="#org063fd4e">Basic markup</a></li>
<li><a href="#org0ac7065"><span class="todo TODO">TODO</span> Command line usage</a></li>
<li><a href="#org1021400"><span class="todo TODO">TODO</span> Configuration</a></li>
<li><a href="#orgba35729"><span class="todo TODO">TODO</span> Citation engine</a></li>
<li><a href="#orgdfcc5c0">Using LaTeX</a></li>
<li><a href="#org218e463">Source code</a></li>
<li><a href="#org0db006f">HTML export from header</a></li>
<li><a href="#org2670443">HTML export from body</a></li>
<li><a href="#orgca2c957">HTML export: attributes</a></li>
<li><a href="#org0cfede4">Images</a></li>
<li><a href="#org2dccdd9">Publishing to HTML: How this site is generated</a></li>
<li><a href="#org1a9d51d">Literate programming and notebooks</a></li>
<li><a href="#orgeed7af0">Figures</a></li>
<li><a href="#orgbd868a4">Beamer</a></li>
<li><a href="#orgf847c70">Quotation</a></li>
<li><a href="#orgf474b53">Tables</a></li>
<li><a href="#orgabc115c">Table of contents</a></li>
<li><a href="#orge516389">Macros</a></li>
<li><a href="#org01bcd63">Agenda</a></li>
<li><a href="#org9d190d4">Links</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgfde98a4" class="outline-2">
<h2 id="orgfde98a4">Org mode notes</h2>
<div class="outline-text-2" id="text-orgfde98a4">
<p>
<a href="../resources/orgcard.pdf">ORG CHEAT SHEET</a>
</p>
</div>

<div id="outline-container-orgb8d48c9" class="outline-3">
<h3 id="orgb8d48c9">Further reading</h3>
<div class="outline-text-3" id="text-orgb8d48c9">
</div>
<div id="outline-container-orgf5d5a69" class="outline-4">
<h4 id="orgf5d5a69">Documentation</h4>
<div class="outline-text-4" id="text-orgf5d5a69">
<ul class="org-ul">
<li><a href="https://orgmode.org/worg/org-contrib/babel/languages/ob-doc-R.html">R Source Code Blocks in Org Mode</a></li>
<li><a href="https://orgmode.org/manual/Publishing.html#Publishing">Publishing an org-mode project to HTML</a></li>
</ul>
</div>
</div>

<div id="outline-container-org9cfc1f5" class="outline-4">
<h4 id="org9cfc1f5">Tutorials and blog posts</h4>
<div class="outline-text-4" id="text-org9cfc1f5">
<ul class="org-ul">
<li><a href="https://emacsclub.github.io/html/org_tutorial.html">Org-mode Tutorial</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org063fd4e" class="outline-3">
<h3 id="org063fd4e">Basic markup</h3>
<div class="outline-text-3" id="text-org063fd4e">
<ul class="org-ul">
<li><code>_foo_</code> will underline the text: <span class="underline">foo</span></li>
<li><code>*foo*</code> will make the text bold: <b>foo</b></li>
<li><code>/foo/</code> will italicise the text: <i>foo</i></li>
<li><code>[[target][label]]</code> will generate links</li>
</ul>
</div>

<div id="outline-container-org1711cf8" class="outline-4">
<h4 id="org1711cf8">Lists, enumerations and descriptions</h4>
<div class="outline-text-4" id="text-org1711cf8">
<ul class="org-ul">
<li>Use <code>-</code> or <code>*</code> to start a list and then <code>S-&lt;right&gt;</code> to move cycle through the
various list types: ordered or unordered.</li>
<li>For a description style list use <code>::</code> to separate the name and its
description.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org0ac7065" class="outline-3">
<h3 id="org0ac7065"><span class="todo TODO">TODO</span> Command line usage</h3>
<div class="outline-text-3" id="text-org0ac7065">
</div>
<div id="outline-container-org23c7482" class="outline-4">
<h4 id="org23c7482">Literate programming</h4>
<div class="outline-text-4" id="text-org23c7482">
<p>
If <code>README.org</code> is a literate program, the source can be tangled out with the
following
</p>

<div class="org-src-container">
<pre class="src src-sh">emacs README.org --batch --eval="(org-babel-tangle)"
</pre>
</div>

<p>
And to weave some HTML use the following
</p>

<div class="org-src-container">
<pre class="src src-sh">emacs README.org --batch --eval="(org-html-export-to-html)"
</pre>
</div>
</div>
</div>

<div id="outline-container-orga11ee19" class="outline-4">
<h4 id="orga11ee19">Creating slides</h4>
<div class="outline-text-4" id="text-orga11ee19">
<div class="org-src-container">
<pre class="src src-sh">emacs slides.org --batch --eval="(org-beamer-export-to-latex)"
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1021400" class="outline-3">
<h3 id="org1021400"><span class="todo TODO">TODO</span> Configuration</h3>
<div class="outline-text-3" id="text-org1021400">
<p>
This configuration is explained in detail in the <a href="https://orgmode.org/manual/In_002dbuffer-Settings.html">Summary of In-Buffer Settings</a>.
A sensible header for an org-mode file should contain the following:
</p>

<ul class="org-ul">
<li><code>#+title:</code></li>
<li><code>#+Time-stamp: &lt;&gt;</code></li>
<li><code>#+startup: overview</code></li>
<li><code>#+options: toc:nil</code> with <code>#+toc: headlines 2</code></li>
<li><code>#+options: num:nil</code></li>
</ul>

<p>
You might use <code>#+startup: noinlineimages</code> if you do not want images to display
in the window by default. This can be very useful if you have figures too big to
fit on the screen.
</p>
</div>
</div>

<div id="outline-container-orgba35729" class="outline-3">
<h3 id="orgba35729"><span class="todo TODO">TODO</span> Citation engine</h3>
<div class="outline-text-3" id="text-orgba35729">
<p>
As stated <a href="https://orgmode.org/Changes.html">here</a>.
</p>

<blockquote>
<p>
Org 9.5 provides a new library oc.el which provides tooling to handle citations
in Org, e.g., activate, follow, insert, and export them, respectively called
"activate", "follow", "insert" and "export" capabilities. Libraries responsible
for providing some, or all, of these capabilities are called "citation
processors".
</p>

<p>
The manual contains a few pointers to let you start and you may want to check
<a href="https://blog.tecosaur.com/tmio/2021-07-31-citations.html">this blog post</a>. If you need help using this new features, please ask on the
mailing list.
</p>

<p>
Thanks to Nicolas Goaziou for implementing this, to Bruce D'Arcus for helping
him and to John Kitchin for paving the way with org-ref.el.
</p>
</blockquote>
</div>

<div id="outline-container-orgebfcc93" class="outline-4">
<h4 id="orgebfcc93">Define the bibliography</h4>
<div class="outline-text-4" id="text-orgebfcc93">
<p>
Use <code>#+bibliography: &lt;my-refs.bib&gt;</code> to define the bibtex file to use.
</p>
</div>
</div>

<div id="outline-container-org3d55f93" class="outline-4">
<h4 id="org3d55f93"><span class="todo TODO">TODO</span> Define the citation processor</h4>
<div class="outline-text-4" id="text-org3d55f93">
<p>
Use <code>#+cite_export:</code> to define the processor to use. It looks like this should be
customised subtantially, but the <code>csl</code> option seemed to work nicely out of the
box.
</p>
</div>
</div>

<div id="outline-container-orge47d8ed" class="outline-4">
<h4 id="orge47d8ed">Inserting references</h4>
<div class="outline-text-4" id="text-orge47d8ed">
<p>
There is the <code>org-cite-insert</code> function to insert a reference. Note that once you
have selected the citations to include use <code>M-RET</code> to actually include them in the
text. Alternatively, they can be included manually as a semicolon seperated list
of <code>@key</code> values.
</p>

<pre class="example">
[cite:@authorYYYYtitle;@authorYYYYtitle]
</pre>
</div>
</div>

<div id="outline-container-orge8d9bc8" class="outline-4">
<h4 id="orge8d9bc8">Print the bibliography</h4>
<div class="outline-text-4" id="text-orge8d9bc8">
<p>
Use <code>#+print_bibliography:</code> at the end of the document to print the bibliography
there.
</p>
</div>
</div>
</div>

<div id="outline-container-orgdfcc5c0" class="outline-3">
<h3 id="orgdfcc5c0">Using LaTeX</h3>
<div class="outline-text-3" id="text-orgdfcc5c0">
<p>
Amazingly, you can use latex environments without any issue and they should be
handled correctly in both latex and HTML export.
</p>
</div>
</div>

<div id="outline-container-org218e463" class="outline-3">
<h3 id="org218e463">Source code</h3>
<div class="outline-text-3" id="text-org218e463">
<p>
The following table is derived from <a href="https://orgmode.org/manual/Languages.html">this documentation</a>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Language</th>
<th scope="col" class="org-left">Identifier</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Emacs Lisp</td>
<td class="org-left"><code>emacs-lisp</code></td>
</tr>

<tr>
<td class="org-left">LaTeX</td>
<td class="org-left"><code>latex</code></td>
</tr>

<tr>
<td class="org-left">Org mode</td>
<td class="org-left"><code>org</code></td>
</tr>

<tr>
<td class="org-left">Python</td>
<td class="org-left"><code>python</code></td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-left"><code>R</code></td>
</tr>

<tr>
<td class="org-left">shell</td>
<td class="org-left"><code>sh</code></td>
</tr>

<tr>
<td class="org-left">Haskell</td>
<td class="org-left"><code>haskell</code></td>
</tr>

<tr>
<td class="org-left">Org mode</td>
<td class="org-left"><code>org</code></td>
</tr>

<tr>
<td class="org-left">Graphviz</td>
<td class="org-left"><code>dot</code></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org0db006f" class="outline-3">
<h3 id="org0db006f">HTML export from header</h3>
<div class="outline-text-3" id="text-org0db006f">
<p>
org-mode has functionality for exporting to HTML. The default maths support is
good. If you want to include CSS this can be done by including a <code>HTML_HEAD</code>
definition. For example, this page has the following line at the top of the
file.
</p>

<div class="org-src-container">
<pre class="src src-org">#+HTML_HEAD: &lt;link rel="stylesheet" type="text/css" href="../css/stylesheet.css" /&gt;
</pre>
</div>

<p>
If you were to use a different CSS file you would need to change the <code>href</code>.
</p>
</div>
</div>

<div id="outline-container-org2670443" class="outline-3">
<h3 id="org2670443">HTML export from body</h3>
<div class="outline-text-3" id="text-org2670443">
<p>
If you want to incorporate a small snippet of HTML into the exported HTML use
the <code>#+begin_export html</code> snippet to include that elements.
</p>
</div>
</div>

<div id="outline-container-orgca2c957" class="outline-3">
<h3 id="orgca2c957">HTML export: attributes</h3>
<div class="outline-text-3" id="text-orgca2c957">
<p>
There is the <code>#+attr_html:</code> declaration to specify how things should be exported
to HTML. For example
</p>

<div class="org-src-container">
<pre class="src src-org">#+attr_html: :width 700px
[[./path/to/image.png]]
</pre>
</div>

<p>
will export the image with the additional attribute that the width should be 700
pixels.
</p>
</div>
</div>

<div id="outline-container-org0cfede4" class="outline-3">
<h3 id="org0cfede4">Images</h3>
<div class="outline-text-3" id="text-org0cfede4">
<p>
See <a href="#orgeed7af0">Figures</a>.
</p>
</div>
</div>

<div id="outline-container-org2dccdd9" class="outline-3">
<h3 id="org2dccdd9">Publishing to HTML: How this site is generated</h3>
<div class="outline-text-3" id="text-org2dccdd9">
<p>
The code is used to configure the generation of this site looks roughly like the
following snippet. For the version of the code actually used, check out my
<a href="https://github.com/aezarebski/nicemacs">nicemacs</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'ox-publish)

(setq org-publish-project-alist
      '(
	("org-notes"
	 :base-directory "~/public-site/org/"
	 :base-extension "org"
	 :publishing-directory "~/aezarebski.github.io/"
	 :recursive t
	 :publishing-function org-html-publish-to-html
	 :headline-levels 4
	 :auto-preamble t
	 )
	("org-static"
	 :base-directory "~/public-site/org/"
	 :base-extension "css\\|js\\|png\\|jpg\\|gif\\|pdf\\|mp3\\|ogg\\|swf\\|txt\\|cur\\|svg\\|csv\\|json"
	 :publishing-directory "~/aezarebski.github.io/"
	 :recursive t
	 :publishing-function org-publish-attachment
	 )
	("org"
	 :components ("org-notes" "org-static"))))

(org-publish "org")
</pre>
</div>

<p>
The <code>org-publish-project-alist</code> is the main variable that needs to be set for
publishing. Each element of this list describes one destination of the
publishing process. Destinations form a hierarchy as can be seen in the <code>"org"</code>
element which takes <code>"org-notes"</code> and <code>"org-static"</code> as components.
</p>

<p>
The <code>base-directory</code> is where to look for source files and the
<code>publishing-directory</code> is destination for the results.
</p>
</div>
</div>

<div id="outline-container-org1a9d51d" class="outline-3">
<h3 id="org1a9d51d">Literate programming and notebooks</h3>
<div class="outline-text-3" id="text-org1a9d51d">
</div>
<div id="outline-container-org1e6130a" class="outline-4">
<h4 id="org1e6130a">Notebook example 1</h4>
<div class="outline-text-4" id="text-org1e6130a">
<p>
The following demonstrates how org-mode can be used as a notebook for R. Note
that
</p>

<div class="org-src-container">
<pre class="src src-org">Evaluate an expression and cache the values as =x=.

#+name: x
\#+begin_src R :cache yes
mean(1:10)
\#+end_src

#+RESULTS[57c60ad6be3794c58f0a94dc3c107a692489cb2b]: x
: 5.5

Carry out an action using the variable =x=

\#+begin_src R :var x = x
print(x)
\#+end_src

#+RESULTS:
: 5.5
</pre>
</div>
</div>
</div>

<div id="outline-container-org8f76204" class="outline-4">
<h4 id="org8f76204">Notebook example 2</h4>
<div class="outline-text-4" id="text-org8f76204">
<p>
Another example which makes use of sessions and output files to facilitate
viewing plots within the file is given below. To make it easier to specify which
R session you want to evaluate the code in there is the <code>rename-buffer</code> function.
To acutually evaluate evaluate the code there is <code>org-babel-execute-buffer</code>. If
you have set <code>:session</code> this will evaluate it in that specified session.
</p>

<div class="org-src-container">
<pre class="src src-org">#+header: :width 300 :height 300
#+begin_src R :session *R-demo* :file 2.png :results graphics file :tangle demo.R
  library(ggplot2)

  g &lt;- ggplot(iris) +
    geom_point(mapping = aes(x = Sepal.Length,
			     y = Petal.Width,
			     colour = Species))

  print(getwd())
  print(g)
</pre>
</div>
<p>
#+end<sub>src</sub>
</p>
</div>
</div>

<div id="outline-container-org7b2b7cf" class="outline-4">
<h4 id="org7b2b7cf">Notebook example 3</h4>
<div class="outline-text-4" id="text-org7b2b7cf">
<p>
In this example we use <code>:exports both</code> to ensure that both the code and the
resulting output are exported.
</p>

<div class="org-src-container">
<pre class="src src-org">#+header: :exports both
#+begin_src maxima :results output
  a : (x* exp(-aa) + y + y * exp(-aa))/ (y*exp(-aa) + x);
  b : ratsimp(a);
  c : collectterms(expand(num(b)), exp(aa)) / denom(b);
  d : block(
    [ea: exp(-aa)],
    collectterms(expand(ea * num(b)), ea) / expand(ea * denom(b))
    );
  display(a, b, c, d);
</pre>
</div>
<p>
#+end<sub>src</sub>
</p>
</div>
</div>

<div id="outline-container-org644f8fc" class="outline-4">
<h4 id="org644f8fc">Literate programming with noweb</h4>
<div class="outline-text-4" id="text-org644f8fc">
<p>
The default behaviour when using noweb syntax is that it will be expanded when
tangling and exporting. If you want to keep expansion on tangle but not on
export set <code>:noweb no-export</code> as shown in the following example.
</p>

<div class="org-src-container">
<pre class="src src-javascript" id="org6d227c3">{
    "foo": "bar"
}
</pre>
</div>

<p>
which is produced by the following orgmode
</p>

<div class="org-src-container">
<pre class="src src-orgmode">#+name: foobar
#+begin_src javascript :noweb yes
  {
      "foo": "bar"
  }
\#+end_src
</pre>
</div>

<p>
Note that the block gets the name <code>foobar</code> which we can then reference in the
following block
</p>

<div class="org-src-container">
<pre class="src src-javascript" id="orge9a9369">{
    "fleeb":
	&lt;&lt;foobar&gt;&gt;
}
</pre>
</div>

<p>
This was itself produced by the following
</p>

<div class="org-src-container">
<pre class="src src-orgmode">\#+name: mainjs
\#+begin_src javascript :noweb no-export :tangle ../misc/silly-example.json
   {
       "fleeb":
	   &lt;&lt;foobar&gt;&gt;
   }
\#+end_src
</pre>
</div>

<p>
Tangling this produces the following JSON
</p>

<div class="org-src-container">
<pre class="src src-javascript">{
    "fleeb":
	{
	    "foo": "bar"
	}
}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgeed7af0" class="outline-3">
<h3 id="orgeed7af0">Figures</h3>
<div class="outline-text-3" id="text-orgeed7af0">
<p>
<code>org-toggle-inline-images</code> will toggle the display of figures in an org
document. To change the size of the displayed image use the following
</p>

<div class="org-src-container">
<pre class="src src-org">#+attr_org: :width 450px
#+attr_html: :width 450px
</pre>
</div>

<p>
For export there are other commands you might want to issue. See for example <a href="#orgca2c957">the
HTML attributes</a>.
</p>
</div>

<div id="outline-container-org814237f" class="outline-4">
<h4 id="org814237f">Linking</h4>
<div class="outline-text-4" id="text-org814237f">
<p>
Use <code>#+name: fig:cool-name</code> to label a figure and then <code>[[fig:cool-name]]</code> to
reference it. You can use this to name an equation and then link back to it from else where in
the document.
</p>
</div>
</div>
</div>

<div id="outline-container-orgbd868a4" class="outline-3">
<h3 id="orgbd868a4">Beamer</h3>
<div class="outline-text-3" id="text-orgbd868a4">
<p>
The command <code>org-beamer-export-to-latex</code> produces a TEX file from your ORG file.
So, given your presentation is in <code>slides.org</code> use the following to create a PDF
</p>

<div class="org-src-container">
<pre class="src src-sh">emacs slides.org --batch --eval="(org-beamer-export-to-latex)"
pdflatex slides.tex
</pre>
</div>

<p>
There are slightly shorter ways to do this, but having the intermediate TEX is good for fine tuning the resulting slides.
<b>NOTE</b> if there are <code>TODO</code> items in the slides, these seem to break the export.
</p>
</div>
</div>

<div id="outline-container-orgf847c70" class="outline-3">
<h3 id="orgf847c70">Quotation</h3>
<div class="outline-text-3" id="text-orgf847c70">
<p>
This is achieved with <code>#+begin_quote</code> and <code>#+end_quote</code>
</p>

<blockquote>
<p>
Everything should be made as simple as possible,
but not any simpler &#x2014;Albert Einstein
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgf474b53" class="outline-3">
<h3 id="orgf474b53">Tables</h3>
<div class="outline-text-3" id="text-orgf474b53">
<p>
<code>org-table-create</code>
</p>
</div>
</div>

<div id="outline-container-orgabc115c" class="outline-3">
<h3 id="orgabc115c">Table of contents</h3>
<div class="outline-text-3" id="text-orgabc115c">
</div>
<div id="outline-container-org0a8e5e9" class="outline-4">
<h4 id="org0a8e5e9">Removing the table of contents</h4>
<div class="outline-text-4" id="text-org0a8e5e9">
<p>
To remove the table of contents from an org-mode export add the following
definition to the top of the file.
</p>

<div class="org-src-container">
<pre class="src src-org">#+OPTIONS: toc:nil
</pre>
</div>
</div>
</div>

<div id="outline-container-org19b07f4" class="outline-4">
<h4 id="org19b07f4">Configuring the table of contents</h4>
<div class="outline-text-4" id="text-org19b07f4">
<p>
If you want to label headers down to level <code>x</code> and include them down to level <code>y</code> in
your table of contents, the following configuration can be added to the top of
the org file.
</p>

<div class="org-src-container">
<pre class="src src-org">#+options: num:x toc:y
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge516389" class="outline-3">
<h3 id="orge516389">Macros</h3>
<div class="outline-text-3" id="text-orge516389">
<p>
Define a macro at the top of the file
</p>

<div class="org-src-container">
<pre class="src src-org">#+MACRO: name   replacement text $1, $2 are arguments
</pre>
</div>

<p>
Use it with <code>{{{name(arg1, arg2)}}}</code>.
</p>
</div>
</div>

<div id="outline-container-org01bcd63" class="outline-3">
<h3 id="org01bcd63">Agenda</h3>
<div class="outline-text-3" id="text-org01bcd63">
<p>
The agenda files are used to track <code>TODO</code> items. Use <code>org-agenda-file-to-front</code> to
add an org-mode file to the list of agenda files. If you are ever in doubt about
which files are in the adgenda, use <code>SPC h d v</code> and request <code>org-agenda-files</code>.
</p>

<p>
Items in a <code>TODO</code> list can be prioritised by adding an annotation of <code>[#&lt;A|B|C&gt;]</code>.
There are only three levels available by default, and if no annotation is used
it is assumed to be level B.
</p>

<p>
To make it easier to schedule items, bind <code>org-schedule</code> to <code>SPC o o s</code>
([o]wner-[o]rg-[s]chedule) which will bring up a calendar to select the date.
You can hold <code>S</code> and then use the arrow keys to navigate the calendar. Times can
be added in 24-hour format to the end of the date. This will add a <code>SCHEDULED</code>
property under that item. If you want to add a time to the task, put it after
the date. The <code>+1w</code> in the example below means that you want the task to be
repeated each week. There are <code>y,m,w,d</code> for year, month, week and day (see <a href="https://orgmode.org/manual/Repeated-tasks.html">here</a>
for details).
</p>

<div class="org-src-container">
<pre class="src src-org">SCHEDULED: &lt;2022-09-18 Sun 14:00 +1w&gt;
</pre>
</div>

<p>
The following settings ensure that a sensible amount of material is shown in the
agenda: items from up to 3 days ago and over a 30 day span in total.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-agenda-start-day "-3d")
(setq org-agenda-span 30)
(setq org-agenda-start-on-weekday nil)
</pre>
</div>

<p>
The <code>org-todo-keywords</code> variable is used to specify the different TODO types.
The pipe, <code>|</code>, in the following example is used to designate that <code>"DONE"</code> is
the only keyword which indicates that a task is finished. It is probably easiest
to use customise to set these variables.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">'(org-todo-keywords '((sequence "TODO" "BLOCKED" "DONE")))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9d190d4" class="outline-3">
<h3 id="org9d190d4">Links</h3>
<div class="outline-text-3" id="text-org9d190d4">
</div>
<div id="outline-container-orge2e85bf" class="outline-4">
<h4 id="orge2e85bf">With properties</h4>
<div class="outline-text-4" id="text-orge2e85bf">
<p>
There is the property approach to adding a custom identifier to a section. This
has the very nice side-effect that if you export the document to HTML it will
use this ID rather than randomly generating one allowing you to be more
systematic in referencing sections.
</p>

<pre class="example">
/** Foobar
/:PROPERTIES:
/:CUSTOM_ID: my-custom-id
/:END:

The section is referenced [[#my-custom-id][here]].
</pre>
</div>
</div>

<div id="outline-container-org3d1389d" class="outline-4">
<h4 id="org3d1389d">With tags</h4>
<div class="outline-text-4" id="text-org3d1389d">
<p>
To link items within a document, create a tag with <code>&lt;&lt;my-tag-id&gt;&gt;</code> and then
reference it with <code>[[my-tag-id][what gets shown]]</code>. By default, when you follow
a link in an org file to another org file it will open the file in a new window.
This behaviour is specified by the variable <code>org-link-frame-setup</code> and can be
customized to visit the file in the current window.
</p>

<p>
To follow a link, by default emacs will attempt to use external programs before
defaulting to opening it in emacs. When this happens it consults the variable
<code>org-link-frame-setup</code> for a specification of how to manage frames and windows.
There is good documentation for this variable, I use the following setting
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">'(org-link-frame-setup
  '((vm . vm-visit-folder-other-frame)
    (vm-imap . vm-visit-imap-folder-other-frame)
    (gnus . org-gnus-no-new-news)
    (file . find-file)
    (wl . wl-other-frame)))
</pre>
</div>
</div>
</div>


<div id="outline-container-orgd05faef" class="outline-4">
<h4 id="orgd05faef">Headers in org-mode files</h4>
<div class="outline-text-4" id="text-orgd05faef">
<p>
To link to the Hackage section of my haskell notes I would use the following
</p>

<div class="org-src-container">
<pre class="src src-org-mode">[[file:./haskell-notes.org::*Hackage][this]]
</pre>
</div>

<p>
Which will generate a link like <a href="./haskell-notes.html#org46265d3">this</a>.
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Alex Zarebski</p>
<p class="date">Created: 2022-10-26 Wed 18:01</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
