<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-07-25 Mon 22:08 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>maxima-aez-notes</title>
<meta name="author" content="Alexander E. Zarebski" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link id="stylesheet" rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">maxima-aez-notes</h1>
<p>
<a href="../index.html">Home</a>
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgd502f7a">Plotting</a>
<ul>
<li><a href="#org98ef236">Example 1</a></li>
<li><a href="#org666c620">Example 2</a></li>
</ul>
</li>
<li><a href="#org2d0976c">Programming in Maxima</a>
<ul>
<li><a href="#org5e48e64">Expressions</a></li>
<li><a href="#org80c316d">Blocks</a></li>
<li><a href="#org069d499">Org-mode as a notebook environment</a></li>
<li><a href="#orgca1af09">Getting help</a></li>
<li><a href="#orgfde8c5a">Removing existing definitions</a></li>
<li><a href="#orgaea98f0">Assignment</a></li>
<li><a href="#org489c311">Program flow</a></li>
<li><a href="#org3c02b19">Lists</a></li>
<li><a href="#orga362a70">Evaluation</a></li>
<li><a href="#org8705717">Simplification</a></li>
<li><a href="#org93fe647">Packages</a></li>
<li><a href="#org65965ae">REPL</a></li>
<li><a href="#orgaa60f09">Batchmode</a></li>
</ul>
</li>
<li><a href="#org5e782d2">Quick reference for mathematics</a>
<ul>
<li><a href="#org3c92ac6">Algebra</a></li>
<li><a href="#org201bc86">Differential equations</a></li>
<li><a href="#org7aa6e55">Matrices and linear algebra</a></li>
<li><a href="#orge620160">Series</a></li>
<li><a href="#orge2d7ebb">Trigonometry</a></li>
</ul>
</li>
<li><a href="#org938c3dd">Examples</a>
<ul>
<li><a href="#orgfc6cb18">Change of coordinates</a></li>
<li><a href="#org5ecd119">Differential equations: simple</a></li>
<li><a href="#orgc6bccbf">Simplification</a></li>
</ul>
</li>
<li><a href="#org51bc151">Front-ends for Maxima</a>
<ul>
<li><a href="#orgf569304">wxMaxima</a></li>
<li><a href="#org56fe35c">Emacs</a></li>
</ul>
</li>
</ul>
</div>
</div>


<div id="orgf84dbdf" class="figure">
<p><img src="../images/maxima-logo.png" alt="maxima-logo.png" width="250px" />
</p>
</div>

<p>
<a href="http://maxima.sourceforge.net/docs/manual/maxima.html">ONLINE DOCUMENTATION</a>
</p>

<div id="outline-container-orgd502f7a" class="outline-2">
<h2 id="orgd502f7a">Plotting</h2>
<div class="outline-text-2" id="text-orgd502f7a">
</div>
<div id="outline-container-org98ef236" class="outline-3">
<h3 id="org98ef236">Example 1</h3>
<div class="outline-text-3" id="text-org98ef236">
<p>
Maxima uses Gnuplot for plotting; n.b. the use of <code>$</code> to show the plot!
</p>

<div class="org-src-container">
<pre class="src src-maxima">plot2d(sin(x), [x,0,2%pi])$
</pre>
</div>


<div id="orgf814db3" class="figure">
<p><img src="../images/maxima-sine-plot.png" alt="maxima-sine-plot.png" width="500px" />
</p>
</div>
</div>
</div>

<div id="outline-container-org666c620" class="outline-3">
<h3 id="org666c620">Example 2</h3>
<div class="outline-text-3" id="text-org666c620">
<p>
There is an example of how to save a figure in <a href="./../misc/fifty-problems/problem-5.html">Problem 5</a>.
</p>

<div class="org-src-container">
<pre class="src src-maxima">plot2d([discrete, [1,2,3,4], [2,-3,4,-5]], [style, points])$
</pre>
</div>


<div id="orgaa38a37" class="figure">
<p><img src="../images/maxima-points-plot.png" alt="maxima-points-plot.png" width="500px" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org2d0976c" class="outline-2">
<h2 id="org2d0976c">Programming in Maxima</h2>
<div class="outline-text-2" id="text-org2d0976c">
</div>
<div id="outline-container-org5e48e64" class="outline-3">
<h3 id="org5e48e64">Expressions</h3>
<div class="outline-text-3" id="text-org5e48e64">
<ul class="org-ul">
<li>"Most things in Maxima are expressions."</li>

<li>A <i>comma expression</i> is a sequence of expressions which evaluates to the value
of the last one. The syntax is <code>(&lt;exp_1&gt;, &lt;exp_2&gt;, ..., &lt;exp_n&gt;)</code>.</li>

<li>"By default, function names are verbs." I do not understand the significance
of nouns and verbs in Maxima.</li>

<li>There is an automatic simplifier, but you can guide it with functions such as
<code>tellsimp</code>.</li>
</ul>
</div>
</div>

<div id="outline-container-org80c316d" class="outline-3">
<h3 id="org80c316d">Blocks</h3>
<div class="outline-text-3" id="text-org80c316d">
<p>
The <code>block</code> allows you to have local variables, similar to a <code>let</code> or <code>where</code> in
Haskell. The first argument should be a list of the variable names that will be
local to this expression. The following demonstrates the usage:
</p>

<div class="org-src-container">
<pre class="src src-maxima">print(block([a,b],a:1,b:2,[a+b,numberp(a)]));
print(numberp(a));
</pre>
</div>

<pre class="example" id="orgb2b2aaa">
: [3, true]
: false
</pre>
</div>
</div>

<div id="outline-container-org069d499" class="outline-3">
<h3 id="org069d499">Org-mode as a notebook environment</h3>
<div class="outline-text-3" id="text-org069d499">
<p>
<b>NOTE:</b> <span class="underline">As of 2022 I prefer <a href="#orgf569304">wxMaxima</a> as a notebook style front-end for Maxima.</span>
</p>

<p>
<a href="https://www.orgmode.org/worg/org-contrib/babel/languages/ob-doc-maxima.html">This tutorial</a> shows how you can set up org-mode to work as a Maxima notebook.
</p>

<p>
Each cell of the notebook should have the following header <code>#+header: :exports
both</code> so that org-mode knows to display the output and then the source block
should also have the language specified as <code>maxima</code> and <code>:results output</code> included
as well. To actually evaluate a source block use either
<code>org-babel-execute-src-block</code> or <code>org-babel-execute-maybe</code>. The latter is just a
convenience wrapper around the former. In spacemacs this is bound to <code>SPC m b e</code>.
</p>
</div>
</div>

<div id="outline-container-orgca1af09" class="outline-3">
<h3 id="orgca1af09">Getting help</h3>
<div class="outline-text-3" id="text-orgca1af09">
<p>
There is a the <code>example</code> function which can be used to get examples of the usage
of a function. There is the <code>? &lt;function&gt;;</code> to get the documentation for a
function.
</p>
</div>
</div>

<div id="outline-container-orgfde8c5a" class="outline-3">
<h3 id="orgfde8c5a">Removing existing definitions</h3>
<div class="outline-text-3" id="text-orgfde8c5a">
<div class="org-src-container">
<pre class="src src-maxima">restart();
kill(all);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaea98f0" class="outline-3">
<h3 id="orgaea98f0">Assignment</h3>
<div class="outline-text-3" id="text-orgaea98f0">
<div class="org-src-container">
<pre class="src src-maxima">y : 10;
f(x) := x + 1;
</pre>
</div>
</div>
</div>

<div id="outline-container-org489c311" class="outline-3">
<h3 id="org489c311">Program flow</h3>
<div class="outline-text-3" id="text-org489c311">
<div class="org-src-container">
<pre class="src src-maxima">if cond_1 then expr_1 elseif cond_2 then expr_2 else expr_3;
</pre>
</div>

<p>
There are several ways to express for loops.
</p>

<div class="org-src-container">
<pre class="src src-maxima">for variable: initial_value step increment thru limit do body

for variable: initial_value step increment while condition do body

for variable: initial_value step increment unless condition do body

for variable in list do body
</pre>
</div>
</div>
</div>

<div id="outline-container-org3c02b19" class="outline-3">
<h3 id="org3c02b19">Lists</h3>
<div class="outline-text-3" id="text-org3c02b19">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Use</th>
<th scope="col" class="org-left">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>makelist</code></td>
<td class="org-left">Map and sequence style list creation</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>some</code> and <code>every</code></td>
<td class="org-left">Fold predicate over list</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>cons</code></td>
<td class="org-left">cons</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>first</code></td>
<td class="org-left">First element of a list</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>rest</code></td>
<td class="org-left">Works as head or tail</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>append</code></td>
<td class="org-left">Concatenation (not <code>join</code>)</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>map</code></td>
<td class="org-left">Map function over list; also see <code>makelist</code></td>
<td class="org-left"><code>map(lambda([x], x+1), [1,2,3]);</code></td>
</tr>

<tr>
<td class="org-left"><code>apply</code></td>
<td class="org-left">Uncurried application</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orga362a70" class="outline-3">
<h3 id="orga362a70">Evaluation</h3>
<div class="outline-text-3" id="text-orga362a70">
<p>
To force the evaluation of an expression before binding it to the value of a
function use the <code>define</code> function.
</p>

<div class="org-src-container">
<pre class="src src-maxima">define(fdash(x), diff(f(x), x));
</pre>
</div>
</div>
</div>

<div id="outline-container-org8705717" class="outline-3">
<h3 id="org8705717">Simplification</h3>
<div class="outline-text-3" id="text-org8705717">
<div class="org-src-container">
<pre class="src src-maxima">restart();
kill(all);

matchdeclare([xx,yy,aa],true)$
tellsimpafter(xx^a*yy^a,(xx*yy)^a)$
tellsimpafter(xx^a/yy^a,(xx/yy)^a)$

print(x^a*y^a);
print(x^a/y^a);
print(x^a*y^a*z^a);
print(x^a*(y^a*z^a));
</pre>
</div>

<p>
produces the following output
</p>

<pre class="example" id="org62b5408">
:      a
: (x y)

:  x a
: (-)
:  y

:  a  a  a
: x  y  z

:        a
: (x y z)
</pre>

<p>
Note the difference between the <code>(%o6)</code> and <code>(%o7)</code> which seems to mean that the
tree AST is not a binary tree.
</p>
</div>
</div>

<div id="outline-container-org93fe647" class="outline-3">
<h3 id="org93fe647">Packages</h3>
<div class="outline-text-3" id="text-org93fe647">
<p>
Use the <code>load</code> command to load packages.
For example
</p>

<div class="org-src-container">
<pre class="src src-maxima">load("distrib");
</pre>
</div>

<p>
to get some useful functions for working with distributions. The <code>f90</code> package
exports the function <code>f90</code> which will convert an expression into valid Fortran90
which has syntax very close to most of the mainstream languages.
</p>
</div>
</div>

<div id="outline-container-org65965ae" class="outline-3">
<h3 id="org65965ae">REPL</h3>
<div class="outline-text-3" id="text-org65965ae">
<p>
You can use <code>%o&lt;n&gt;</code> to refer to the output named <code>n</code>.
</p>
</div>
</div>

<div id="outline-container-orgaa60f09" class="outline-3">
<h3 id="orgaa60f09">Batchmode</h3>
<div class="outline-text-3" id="text-orgaa60f09">
<p>
To save sessions there is the <code>stringout</code> function which can take as a mode one
of several options: <code>all</code>, <code>input</code> for a verbatim copy of the session, and
<code>values</code> and <code>functions</code> for the existing values and functions. To read a file
there is <code>batch</code> and <code>batchload</code>, the latter being a silent version of <code>batch</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-org5e782d2" class="outline-2">
<h2 id="org5e782d2">Quick reference for mathematics</h2>
<div class="outline-text-2" id="text-org5e782d2">
</div>
<div id="outline-container-org3c92ac6" class="outline-3">
<h3 id="org3c92ac6">Algebra</h3>
<div class="outline-text-3" id="text-org3c92ac6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Function</b></th>
<th scope="col" class="org-left"><b>Use</b></th>
<th scope="col" class="org-left"><b>Example</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>solve</code></td>
<td class="org-left">Solve an algebraic equation</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>eliminate</code></td>
<td class="org-left">Eliminate variable from equations</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>partfrac</code></td>
<td class="org-left">Partial fraction</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>factor</code></td>
<td class="org-left">Factorise</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>ratsimp</code></td>
<td class="org-left">Simplify a rational function</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>is</code> and <code>equal</code></td>
<td class="org-left">Check equality of expressions</td>
<td class="org-left"><code>is(equal(2,1+1));</code></td>
</tr>

<tr>
<td class="org-left"><code>rhs</code></td>
<td class="org-left">Get the RHS of an expression</td>
<td class="org-left"><code>is(equal(rhs(a = b), b));</code></td>
</tr>

<tr>
<td class="org-left"><code>subst</code></td>
<td class="org-left">Substitution (read docs)</td>
<td class="org-left"><code>is(equal(subst(a, b, b + c), a + c));</code></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org201bc86" class="outline-3">
<h3 id="org201bc86">Differential equations</h3>
<div class="outline-text-3" id="text-org201bc86">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Function</b></th>
<th scope="col" class="org-left"><b>Use</b></th>
<th scope="col" class="org-left"><b>Example</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>diff</code></td>
<td class="org-left">Differentiate</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>integrate</code></td>
<td class="org-left">Integrate</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>ode2</code></td>
<td class="org-left">Solve a first or second order ODE</td>
<td class="org-left"><a href="#org5ecd119">here</a></td>
</tr>

<tr>
<td class="org-left"><code>ic1</code> and <code>ic2</code></td>
<td class="org-left">Solve to match initial conditions</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>desolve</code></td>
<td class="org-left">Solve a linear ODE system</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>atvalue</code></td>
<td class="org-left">Solve to match a boundary condition</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org7aa6e55" class="outline-3">
<h3 id="org7aa6e55">Matrices and linear algebra</h3>
<div class="outline-text-3" id="text-org7aa6e55">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Function</b></th>
<th scope="col" class="org-left"><b>Use</b></th>
<th scope="col" class="org-left"><b>Example</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>matrix</code></td>
<td class="org-left">Define a matrix (row-wise)</td>
<td class="org-left"><code>matrix([a,b],[c,d]);</code></td>
</tr>

<tr>
<td class="org-left"><code>matrixexp</code></td>
<td class="org-left">Evaluate a matrix exponential</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orge620160" class="outline-3">
<h3 id="orge620160">Series</h3>
<div class="outline-text-3" id="text-orge620160">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Function</b></th>
<th scope="col" class="org-left"><b>Use</b></th>
<th scope="col" class="org-left"><b>Example</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>taylor</code></td>
<td class="org-left">Taylor series</td>
<td class="org-left"><code>taylor (exp(x), x, 0, 3);</code></td>
</tr>

<tr>
<td class="org-left"><code>simplify_sum</code></td>
<td class="org-left">Series summation</td>
<td class="org-left"><code>simplify_sum(sum(1 / x ^ 2, x, 1, inf));</code></td>
</tr>
</tbody>
</table>

<p>
The <code>simplify_sum</code> package provides the <code>simplify_sum</code> function. This package
was used in <a href="./../misc/fifty-problems/problem-4.html">Problem 4</a>.
</p>
</div>
</div>

<div id="outline-container-orge2d7ebb" class="outline-3">
<h3 id="orge2d7ebb">Trigonometry</h3>
<div class="outline-text-3" id="text-orge2d7ebb">
<p>
The <code>exponentialize</code> function converts circular and hyperbolic functions into
expressions consisting of exponentials.
</p>
</div>
</div>
</div>

<div id="outline-container-org938c3dd" class="outline-2">
<h2 id="org938c3dd">Examples</h2>
<div class="outline-text-2" id="text-org938c3dd">
</div>
<div id="outline-container-orgfc6cb18" class="outline-3">
<h3 id="orgfc6cb18">Change of coordinates</h3>
<div class="outline-text-3" id="text-orgfc6cb18">
<p>
Suppose you are doing an integral and you want to change from Cartesian to polar
coordinates. What was for Jacobian in this case again? The following
demonstrates how to compute it with Maxima.
</p>
</div>

<div id="outline-container-org61f31d9" class="outline-4">
<h4 id="org61f31d9">Cartesian to polar</h4>
<div class="outline-text-4" id="text-org61f31d9">
<div class="org-src-container">
<pre class="src src-maxima">[x,y] : [r * cos(p), r * sin(p)];
trigsimp(determinant(jacobian([x,y], [r,p])));
/*
r
*/
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf2e4fc9" class="outline-4">
<h4 id="orgf2e4fc9">Cartesian to spherical</h4>
<div class="outline-text-4" id="text-orgf2e4fc9">
<div class="org-src-container">
<pre class="src src-maxima">[x,y,z] : [r * sin(p) * cos(t), r * sin(p) * sin(t), r * cos(p)];
trigsimp(determinant(jacobian([x,y,z], [r,p,t])));
/*
            2
    sin(p) r
*/
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5ecd119" class="outline-3">
<h3 id="org5ecd119">Differential equations: simple</h3>
<div class="outline-text-3" id="text-org5ecd119">
<p>
Note that we have used the quote on the call to <code>diff</code> to prevent this being
evaluated as we are defining the ODE here.
</p>

<div class="org-src-container">
<pre class="src src-maxima">eq : 'diff(y,x) = -y;

ode2(eq, y, x);

sol : ic1(%, x = 1, y = 8);

plot2d(rhs (sol), [x, 0,4], [y, 0, 10]);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc6bccbf" class="outline-3">
<h3 id="orgc6bccbf">Simplification</h3>
<div class="outline-text-3" id="text-orgc6bccbf">
<p>
This snippet demonstrates some ways to get different expressions for the same
quantity. Note how the numerator and denominator can be separated to have
different simplification steps applied as in the definition of <code>d</code>.
</p>

<div class="org-src-container">
<pre class="src src-maxima">a : (x* exp(-aa) + y + y * exp(-aa))/ (y*exp(-aa) + x);
b : ratsimp(a);
c : collectterms(expand(num(b)), exp(aa)) / denom(b);
d : block(
  [ea: exp(-aa)],
  collectterms(expand(ea * num(b)), ea) / expand(ea * denom(b))
  );
display(a, b, c, d);
</pre>
</div>

<pre class="example" id="org743f459">
      - aa           - aa
    %e     y + y + %e     x
a = -----------------------
           - aa
         %e     y + x
          aa
       (%e   + 1) y + x
   b = ----------------
                aa
          y + %e   x
          aa
        %e   y + y + x
    c = --------------
                aa
          y + %e   x
        - aa
      %e     (y + x) + y
  d = ------------------
           - aa
         %e     y + x
</pre>
</div>
</div>
</div>

<div id="outline-container-org51bc151" class="outline-2">
<h2 id="org51bc151">Front-ends for Maxima</h2>
<div class="outline-text-2" id="text-org51bc151">
</div>
<div id="outline-container-orgf569304" class="outline-3">
<h3 id="orgf569304">wxMaxima</h3>
<div class="outline-text-3" id="text-orgf569304">
<ul class="org-ul">
<li>Use <code>ctrl k</code> to trigger the auto-complete function.</li>
<li>To change the pre-amble used during the LaTeX export use <b>Edit</b> &gt; <b>Configure</b> &gt;
<b>Export</b> and fill in the desired commands there.</li>
<li><code>ctrl 0</code> starts a new math cell, but <code>ctrl n</code> for <code>n</code> as 1, 2, 3, &#x2026; provides a
bunch of helpful text based cells.</li>
<li>When I compiled <code>wxMaxima 21.11.0</code> from source it suddenly wanted to use
Portuguese as the language. Far too much searching revealed that the way to
solve this is to open <code>.wxMaxima</code> (the configuration file) and change
<code>language=153</code> to <code>language=59</code> (British English).</li>
<li><p>
Another problem I hit was wxMaxima not being able to locate the Maxima
documentation. The solution was to add the following line to <code>.wxMaxima</code>,
unfortunately upon exiting, this seems to loose that configuration, I'm not
sure how to correct this.
</p>

<pre class="example" id="org66ecdf1">
helpFile=/usr/share/maxima/5.43.2/doc/html/header.hhp
</pre></li>
</ul>
</div>
</div>

<div id="outline-container-org56fe35c" class="outline-3">
<h3 id="org56fe35c">Emacs</h3>
<div class="outline-text-3" id="text-org56fe35c">
<p>
Add the following to your configuration.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #3a81c3;">(</span>add-to-list 'load-path <span style="color: #2d9574;">"&lt;path/to/emacs/maxima/"</span><span style="color: #3a81c3;">)</span>
<span style="color: #3a81c3;">(</span>autoload 'maxima-mode <span style="color: #2d9574;">"maxima"</span> <span style="color: #da8b55;">"Maxima mode"</span> t<span style="color: #3a81c3;">)</span>
<span style="color: #3a81c3;">(</span>autoload 'imaxima <span style="color: #2d9574;">"imaxima"</span> <span style="color: #da8b55;">"Frontend for maxima with Image support"</span> t<span style="color: #3a81c3;">)</span>
<span style="color: #3a81c3;">(</span>autoload 'maxima <span style="color: #2d9574;">"maxima"</span> <span style="color: #da8b55;">"Maxima interaction"</span> t<span style="color: #3a81c3;">)</span>
<span style="color: #3a81c3;">(</span>autoload 'imath-mode <span style="color: #2d9574;">"imath"</span> <span style="color: #da8b55;">"Imath mode for math formula input"</span> t<span style="color: #3a81c3;">)</span>
<span style="color: #3a81c3;">(</span><span style="color: #3a81c3;">setq</span> imaxima-use-maxima-mode-flag t<span style="color: #3a81c3;">)</span>
<span style="color: #3a81c3;">(</span>add-to-list 'auto-mode-alist '<span style="color: #6c3163;">(</span><span style="color: #2d9574;">"\\.ma[cx]"</span> . maxima-mode<span style="color: #6c3163;">)</span><span style="color: #3a81c3;">)</span>
</pre>
</div>

<p>
Start a Maxima session with <code>M-x imaxima</code>. To send a buffer to the REPL use <code>C-c
C-b</code>. To send a region <code>C-c C-r</code> or just a single line <code>C-c C-c</code>. To get the
potential completions for a variable name <code>M-TAB</code>.
</p>
</div>

<div id="outline-container-org09ac747" class="outline-4">
<h4 id="org09ac747">Spacemacs</h4>
<div class="outline-text-4" id="text-org09ac747">
<p>
There is a <a href="https://github.com/dalanicolai/maxima-layer">spacemacs layer for maxima</a> and I have a <a href="https://github.com/aezarebski/maxima-layer">fork</a> too. The instructions
above are not necessary if you are using this layer with spacemacs.
</p>
</div>
</div>

<div id="outline-container-org25306c0" class="outline-4">
<h4 id="org25306c0">REPL display configuration</h4>
<div class="outline-text-4" id="text-org25306c0">
<p>
The output of Maxima can be displayed in three ways: single line of ascii,
multiple lines of ascii or rendered with <code>imaxima</code>. The output type is
determined by the value of the <code>display2d</code> variable (in Maxima) which can be
<code>false</code>, <code>true</code>, or <code>imaxima</code>.
</p>

<div class="org-src-container">
<pre class="src src-maxima">display2d: true;
</pre>
</div>

<p>
If you want to change the font size for the latex output, modify the
(customisable) variable <code>imaxima-fnt-size</code>.
</p>

<p>
If you want to change the number of significant figures to which floating point
numbers are displayed there is the variable <code>fpprintprec</code> (floating point print
precision?). The default value is <code>0</code>, for larger integers it is that number of
digits.
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Alexander E. Zarebski</p>
<p class="date">Created: 2022-07-25 Mon 22:08</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
