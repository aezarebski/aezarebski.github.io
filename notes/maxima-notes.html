<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-06-14 Mon 16:59 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>aez-notes</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Alex Zarebski" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link id="stylesheet" rel="stylesheet" type="text/css" href="../css/stylesheet-dark.css" />
<script type="text/javascript">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">aez-notes</h1>
<p>
<a href="../index.html">Home</a>
</p>

<button type="button" onclick="toggleStyle()">Light/Dark</button>
<script src="./main.js"></script>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org39f6091">Emacs interface to Maxima</a>
<ul>
<li><a href="#orgd5404e4">Spacemacs</a></li>
<li><a href="#org2464a26">REPL display configuration</a></li>
</ul>
</li>
<li><a href="#org982cd18">Plotting</a></li>
<li><a href="#orgdf219c4">Programming in Maxima</a>
<ul>
<li><a href="#orgf23bbb4">Expressions</a></li>
<li><a href="#orgc2165a2">Org-mode as a notebook environment</a></li>
<li><a href="#orgc78d123">Getting help</a></li>
<li><a href="#org141a7f0">Removing existing definitions</a></li>
<li><a href="#org1798800">Assignment</a></li>
<li><a href="#orgb6b14da">Program flow</a></li>
<li><a href="#orgc337350">Lists</a></li>
<li><a href="#org040ce89">Evaluation</a></li>
<li><a href="#orged74526">Simplification</a></li>
<li><a href="#orgad68a3f">Packages</a></li>
<li><a href="#orgd07bd2b">REPL</a></li>
<li><a href="#orgd5c8862">Batchmode</a></li>
</ul>
</li>
<li><a href="#orgbb64bd3">Quick reference for mathematics</a>
<ul>
<li><a href="#org9e547a6">Algebra</a></li>
<li><a href="#org15f77aa">Series</a></li>
<li><a href="#org43f2cb1">Differential equations</a></li>
<li><a href="#orgb7b7c1d">Trigonometry</a></li>
</ul>
</li>
<li><a href="#org0ac485b">Examples</a>
<ul>
<li><a href="#org711cac8">Change of coordinates</a></li>
<li><a href="#orgc52b385">Differential equations: simple</a></li>
<li><a href="#org18fee26">Simplification</a></li>
</ul>
</li>
</ul>
</div>
</div>


<div id="orgdd0cc33" class="figure">
<p><img src="../images/maxima-logo.png" alt="maxima-logo.png" />
</p>
</div>

<p>
<a href="http://maxima.sourceforge.net/docs/manual/maxima.html">ONLINE DOCUMENTATION</a>
</p>

<div id="outline-container-org39f6091" class="outline-2">
<h2 id="org39f6091">Emacs interface to Maxima</h2>
<div class="outline-text-2" id="text-org39f6091">
<p>
Add the following to your configuration.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span>add-to-list 'load-path <span style="color: #2d9574;">"&lt;path/to/emacs/maxima/"</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>autoload 'maxima-mode <span style="color: #2d9574;">"maxima"</span> <span style="color: #9f8766;">"Maxima mode"</span> t<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>autoload 'imaxima <span style="color: #2d9574;">"imaxima"</span> <span style="color: #9f8766;">"Frontend for maxima with Image support"</span> t<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>autoload 'maxima <span style="color: #2d9574;">"maxima"</span> <span style="color: #9f8766;">"Maxima interaction"</span> t<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>autoload 'imath-mode <span style="color: #2d9574;">"imath"</span> <span style="color: #9f8766;">"Imath mode for math formula input"</span> t<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> imaxima-use-maxima-mode-flag t<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-to-list 'auto-mode-alist '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"\\.ma[cx]"</span> . maxima-mode<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
Start a Maxima session with <code>M-x imaxima</code>. To send a buffer to the REPL use <code>C-c
C-b</code>. To send a region <code>C-c C-r</code> or just a single line <code>C-c C-c</code>. To get the
potential completions for a variable name <code>M-TAB</code>.
</p>
</div>

<div id="outline-container-orgd5404e4" class="outline-3">
<h3 id="orgd5404e4">Spacemacs</h3>
<div class="outline-text-3" id="text-orgd5404e4">
<p>
There is a <a href="https://github.com/dalanicolai/maxima-layer">spacemacs layer for maxima</a> and I have a <a href="https://github.com/aezarebski/maxima-layer">fork</a> too. The instructions
above are not necessary if you are using this layer with spacemacs.
</p>
</div>
</div>

<div id="outline-container-org2464a26" class="outline-3">
<h3 id="org2464a26">REPL display configuration</h3>
<div class="outline-text-3" id="text-org2464a26">
<p>
The output of Maxima can be displayed in three ways: single line of ascii,
multiple lines of ascii or rendered with <code>imaxima</code>. The output type is
determined by the value of the <code>display2d</code> variable (in Maxima) which can be
<code>false</code>, <code>true</code>, or <code>imaxima</code>.
</p>

<div class="org-src-container">
<pre class="src src-maxima"><span style="color: #4f97d7; font-weight: bold;">display2d:</span> <span style="color: #a45bad;">true</span>;
</pre>
</div>

<p>
If you want to change the font size for the latex output, modify the
(customisable) variable <code>imaxima-fnt-size</code>.
</p>

<p>
If you want to change the number of significant figures to which floating point
numbers are displayed there is the variable <code>fpprintprec</code> (floating point print
precision?). The default value is <code>0</code>, for larger integers it is that number of
digits.
</p>
</div>
</div>
</div>

<div id="outline-container-org982cd18" class="outline-2">
<h2 id="org982cd18">Plotting</h2>
<div class="outline-text-2" id="text-org982cd18">
<p>
Maxima uses Gnuplot for plotting; n.b. the use of <code>$</code> to show the plot!
</p>

<div class="org-src-container">
<pre class="src src-maxima"><span style="color: #4f97d7;">plot2d</span>(<span style="color: #4f97d7;">sin</span>(x), [x,<span style="color: #a45bad;">0</span>,2%pi])$ 
</pre>
</div>


<div id="orgf6e6c24" class="figure">
<p><img src="../images/maxima-sine-plot.png" alt="maxima-sine-plot.png" />
</p>
</div>

<p>
There is an example of how to save a figure in <a href="./../misc/fifty-problems/problem-5.html">Problem 5</a>.
</p>

<div class="org-src-container">
<pre class="src src-maxima"><span style="color: #4f97d7;">plot2d</span>([discrete, [<span style="color: #a45bad;">1</span>,<span style="color: #a45bad;">2</span>,<span style="color: #a45bad;">3</span>,<span style="color: #a45bad;">4</span>], [<span style="color: #a45bad;">2</span>,<span style="color: #4f97d7; font-weight: bold;">-</span><span style="color: #a45bad;">3</span>,<span style="color: #a45bad;">4</span>,<span style="color: #4f97d7; font-weight: bold;">-</span><span style="color: #a45bad;">5</span>]], [style, points])$
</pre>
</div>


<div id="org7151cf0" class="figure">
<p><img src="../images/maxima-points-plot.png" alt="maxima-points-plot.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgdf219c4" class="outline-2">
<h2 id="orgdf219c4">Programming in Maxima</h2>
<div class="outline-text-2" id="text-orgdf219c4">
</div>
<div id="outline-container-orgf23bbb4" class="outline-3">
<h3 id="orgf23bbb4">Expressions</h3>
<div class="outline-text-3" id="text-orgf23bbb4">
<ul class="org-ul">
<li>"Most things in Maxima are expressions."</li>

<li>A <i>comma expression</i> is a sequence of expressions which evaluates to the value
of the last one. The syntax is <code>(&lt;exp_1&gt;, &lt;exp_2&gt;, ..., &lt;exp_n&gt;)</code>.</li>

<li>"By default, function names are verbs." I do not understand the significance
of nouns and verbs in Maxima.</li>

<li>There is an automatic simplifier, but you can guide it with functions such as
<code>tellsimp</code>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgc2165a2" class="outline-3">
<h3 id="orgc2165a2">Org-mode as a notebook environment</h3>
<div class="outline-text-3" id="text-orgc2165a2">
<p>
<a href="https://www.orgmode.org/worg/org-contrib/babel/languages/ob-doc-maxima.html">This tutorial</a> shows how you can set up org-mode to work as a Maxima notebook.
</p>
</div>
</div>

<div id="outline-container-orgc78d123" class="outline-3">
<h3 id="orgc78d123">Getting help</h3>
<div class="outline-text-3" id="text-orgc78d123">
<p>
There is a the <code>example</code> function which can be used to get examples of the usage
of a function. There is the <code>? &lt;function&gt;;</code> to get the documentation for a
function.
</p>
</div>
</div>

<div id="outline-container-org141a7f0" class="outline-3">
<h3 id="org141a7f0">Removing existing definitions</h3>
<div class="outline-text-3" id="text-org141a7f0">
<div class="org-src-container">
<pre class="src src-maxima"><span style="color: #4f97d7;">restart</span>();
<span style="color: #4f97d7;">kill</span>(<span style="color: #4f97d7; font-weight: bold;">all</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-org1798800" class="outline-3">
<h3 id="org1798800">Assignment</h3>
<div class="outline-text-3" id="text-org1798800">
<div class="org-src-container">
<pre class="src src-maxima">y <span style="color: #4f97d7; font-weight: bold;">:</span> <span style="color: #a45bad;">10</span>;
<span style="color: #bc6ec5; font-weight: bold;">f</span>(<span style="color: #7590db;">x</span>) <span style="color: #4f97d7; font-weight: bold;">:=</span> x <span style="color: #4f97d7; font-weight: bold;">+</span> <span style="color: #a45bad;">1</span>;  
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb6b14da" class="outline-3">
<h3 id="orgb6b14da">Program flow</h3>
<div class="outline-text-3" id="text-orgb6b14da">
<div class="org-src-container">
<pre class="src src-maxima"><span style="color: #4f97d7; font-weight: bold;">if</span> cond_1 <span style="color: #4f97d7; font-weight: bold;">then</span> expr_1 <span style="color: #4f97d7; font-weight: bold;">elseif</span> cond_2 <span style="color: #4f97d7; font-weight: bold;">then</span> expr_2 <span style="color: #4f97d7; font-weight: bold;">else</span> expr_3; 
</pre>
</div>

<p>
There are several ways to express for loops.
</p>

<div class="org-src-container">
<pre class="src src-maxima"><span style="color: #4f97d7; font-weight: bold;">for</span> variable<span style="color: #4f97d7; font-weight: bold;">:</span> initial_value <span style="color: #4f97d7; font-weight: bold;">step</span> increment <span style="color: #4f97d7; font-weight: bold;">thru</span> <span style="color: #4f97d7;">limit</span> <span style="color: #4f97d7; font-weight: bold;">do</span> body

<span style="color: #4f97d7; font-weight: bold;">for</span> variable<span style="color: #4f97d7; font-weight: bold;">:</span> initial_value <span style="color: #4f97d7; font-weight: bold;">step</span> increment <span style="color: #4f97d7; font-weight: bold;">while</span> condition <span style="color: #4f97d7; font-weight: bold;">do</span> body

<span style="color: #4f97d7; font-weight: bold;">for</span> variable<span style="color: #4f97d7; font-weight: bold;">:</span> initial_value <span style="color: #4f97d7; font-weight: bold;">step</span> increment <span style="color: #4f97d7; font-weight: bold;">unless</span> condition <span style="color: #4f97d7; font-weight: bold;">do</span> body

<span style="color: #4f97d7; font-weight: bold;">for</span> variable <span style="color: #4f97d7; font-weight: bold;">in</span> list <span style="color: #4f97d7; font-weight: bold;">do</span> body  
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc337350" class="outline-3">
<h3 id="orgc337350">Lists</h3>
<div class="outline-text-3" id="text-orgc337350">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>makelist</code></td>
<td class="org-left">Map and sequence style list creation</td>
</tr>

<tr>
<td class="org-left"><code>some</code> and <code>every</code></td>
<td class="org-left">Fold predicate over list</td>
</tr>

<tr>
<td class="org-left"><code>cons</code></td>
<td class="org-left">cons</td>
</tr>

<tr>
<td class="org-left"><code>first</code></td>
<td class="org-left">First element of a list</td>
</tr>

<tr>
<td class="org-left"><code>rest</code></td>
<td class="org-left">Works as head or tail</td>
</tr>

<tr>
<td class="org-left"><code>append</code></td>
<td class="org-left">Concatenation (not <code>join</code>)</td>
</tr>

<tr>
<td class="org-left"><code>map</code></td>
<td class="org-left">Map function over list; also see <code>makelist</code></td>
</tr>

<tr>
<td class="org-left"><code>apply</code></td>
<td class="org-left">Uncurried application</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org040ce89" class="outline-3">
<h3 id="org040ce89">Evaluation</h3>
<div class="outline-text-3" id="text-org040ce89">
<p>
To force the evaluation of an expression before binding it to the value of a
function use the <code>define</code> function.
</p>

<div class="org-src-container">
<pre class="src src-maxima"><span style="color: #4f97d7;">define</span>(fdash(x), <span style="color: #4f97d7;">diff</span>(f(x), x));
</pre>
</div>
</div>
</div>

<div id="outline-container-orged74526" class="outline-3">
<h3 id="orged74526">Simplification</h3>
<div class="outline-text-3" id="text-orged74526">
<div class="org-src-container">
<pre class="src src-maxima"><span style="color: #4f97d7;">restart</span>();
<span style="color: #4f97d7;">kill</span>(<span style="color: #4f97d7; font-weight: bold;">all</span>);

<span style="color: #4f97d7;">matchdeclare</span>([xx,yy,aa],<span style="color: #a45bad;">true</span>)$
<span style="color: #4f97d7;">tellsimpafter</span>(xx<span style="color: #4f97d7; font-weight: bold;">^</span>a<span style="color: #4f97d7; font-weight: bold;">*</span>yy<span style="color: #4f97d7; font-weight: bold;">^</span>a,(xx<span style="color: #4f97d7; font-weight: bold;">*</span>yy)<span style="color: #4f97d7; font-weight: bold;">^</span>a)$
<span style="color: #4f97d7;">tellsimpafter</span>(xx<span style="color: #4f97d7; font-weight: bold;">^</span>a<span style="color: #4f97d7; font-weight: bold;">/</span>yy<span style="color: #4f97d7; font-weight: bold;">^</span>a,(xx<span style="color: #4f97d7; font-weight: bold;">/</span>yy)<span style="color: #4f97d7; font-weight: bold;">^</span>a)$

x<span style="color: #4f97d7; font-weight: bold;">^</span>a<span style="color: #4f97d7; font-weight: bold;">*</span>y<span style="color: #4f97d7; font-weight: bold;">^</span>a;
x<span style="color: #4f97d7; font-weight: bold;">^</span>a<span style="color: #4f97d7; font-weight: bold;">/</span>y<span style="color: #4f97d7; font-weight: bold;">^</span>a;
x<span style="color: #4f97d7; font-weight: bold;">^</span>a<span style="color: #4f97d7; font-weight: bold;">*</span>y<span style="color: #4f97d7; font-weight: bold;">^</span>a<span style="color: #4f97d7; font-weight: bold;">*</span>z<span style="color: #4f97d7; font-weight: bold;">^</span>a;
x<span style="color: #4f97d7; font-weight: bold;">^</span>a<span style="color: #4f97d7; font-weight: bold;">*</span>(y<span style="color: #4f97d7; font-weight: bold;">^</span>a<span style="color: #4f97d7; font-weight: bold;">*</span>z<span style="color: #4f97d7; font-weight: bold;">^</span>a);
</pre>
</div>

<p>
produces the following output
</p>

<pre class="example">
(%i4) x^a*y^a;
                                         a
(%o4)                               (x y)
(%i5) x^a/y^a;
                                      x a
(%o5)                                (-)
                                      y
(%i6) x^a*y^a*z^a;
                                    a  a  a
(%o6)                              x  y  z
(%i7) x^a*(y^a*z^a);
                                          a
(%o7)                              (x y z)
</pre>

<p>
Note the difference between the <code>(%o6)</code> and <code>(%o7)</code> which seems to mean that the
tree AST is not a binary tree.
</p>
</div>
</div>

<div id="outline-container-orgad68a3f" class="outline-3">
<h3 id="orgad68a3f">Packages</h3>
<div class="outline-text-3" id="text-orgad68a3f">
<p>
Use the <code>load</code> command to load packages.
For example
</p>

<div class="org-src-container">
<pre class="src src-maxima"><span style="color: #4f97d7;">load</span>(<span style="color: #2d9574;">"distrib"</span>);
</pre>
</div>

<p>
to get some useful functions for working with distributions. The <code>f90</code> package
exports the function <code>f90</code> which will convert an expression into valid Fortran90
which has syntax very close to most of the mainstream languages.
</p>
</div>
</div>

<div id="outline-container-orgd07bd2b" class="outline-3">
<h3 id="orgd07bd2b">REPL</h3>
<div class="outline-text-3" id="text-orgd07bd2b">
<p>
You can use <code>%o&lt;n&gt;</code> to refer to the output named <code>n</code>.
</p>
</div>
</div>

<div id="outline-container-orgd5c8862" class="outline-3">
<h3 id="orgd5c8862">Batchmode</h3>
<div class="outline-text-3" id="text-orgd5c8862">
<p>
To save sessions there is the <code>stringout</code> function which can take as a mode one
of several options: <code>all</code>, <code>input</code> for a verbatim copy of the session, and
<code>values</code> and <code>functions</code> for the existing values and functions. To read a file
there is <code>batch</code> and <code>batchload</code>, the latter being a silent version of <code>batch</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-orgbb64bd3" class="outline-2">
<h2 id="orgbb64bd3">Quick reference for mathematics</h2>
<div class="outline-text-2" id="text-orgbb64bd3">
</div>
<div id="outline-container-org9e547a6" class="outline-3">
<h3 id="org9e547a6">Algebra</h3>
<div class="outline-text-3" id="text-org9e547a6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Function</b></th>
<th scope="col" class="org-left"><b>Use</b></th>
<th scope="col" class="org-left"><b>Example</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>solve</code></td>
<td class="org-left">Solve an algebraic equation</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>eliminate</code></td>
<td class="org-left">Eliminate variable from equations</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>partfrac</code></td>
<td class="org-left">Partial fraction</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>factor</code></td>
<td class="org-left">Factorise</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>ratsimp</code></td>
<td class="org-left">Simplify a rational function</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>is</code> and <code>equal</code></td>
<td class="org-left">Check equality of expressions</td>
<td class="org-left"><code>is(equal(2,1+1));</code></td>
</tr>

<tr>
<td class="org-left"><code>rhs</code></td>
<td class="org-left">Get the RHS of an expression</td>
<td class="org-left"><code>is(equal(rhs(a = b), b));</code></td>
</tr>

<tr>
<td class="org-left"><code>subst</code></td>
<td class="org-left">Substitution (read docs)</td>
<td class="org-left"><code>is(equal(subst(a, b, b + c), a + c));</code></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org15f77aa" class="outline-3">
<h3 id="org15f77aa">Series</h3>
<div class="outline-text-3" id="text-org15f77aa">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Function</b></th>
<th scope="col" class="org-left"><b>Use</b></th>
<th scope="col" class="org-left"><b>Example</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>taylor</code></td>
<td class="org-left">Taylor series</td>
<td class="org-left"><code>taylor (exp(x), x, 0, 3);</code></td>
</tr>

<tr>
<td class="org-left"><code>simplify_sum</code></td>
<td class="org-left">Series summation</td>
<td class="org-left"><code>simplify_sum(sum(1 / x ^ 2, x, 1, inf));</code></td>
</tr>
</tbody>
</table>

<p>
The <code>simplify_sum</code> package provides the <code>simplify_sum</code> function. This package
was used in <a href="./../misc/fifty-problems/problem-4.html">Problem 4</a>.
</p>
</div>
</div>

<div id="outline-container-org43f2cb1" class="outline-3">
<h3 id="org43f2cb1">Differential equations</h3>
<div class="outline-text-3" id="text-org43f2cb1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Function</b></th>
<th scope="col" class="org-left"><b>Use</b></th>
<th scope="col" class="org-left"><b>Example</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>diff</code></td>
<td class="org-left">Differentiate</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>integrate</code></td>
<td class="org-left">Integrate</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>ode2</code></td>
<td class="org-left">Solve a first or second order ODE</td>
<td class="org-left"><a href="#orgc52b385">here</a></td>
</tr>

<tr>
<td class="org-left"><code>ic1</code> and <code>ic2</code></td>
<td class="org-left">Solve to match initial conditions</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>desolve</code></td>
<td class="org-left">Solve a linear ODE system</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>atvalue</code></td>
<td class="org-left">Solve to match a boundary condition</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgb7b7c1d" class="outline-3">
<h3 id="orgb7b7c1d">Trigonometry</h3>
<div class="outline-text-3" id="text-orgb7b7c1d">
<p>
The <code>exponentialize</code> function converts circular and hyperbolic functions into
expressions consisting of exponentials.
</p>
</div>
</div>
</div>

<div id="outline-container-org0ac485b" class="outline-2">
<h2 id="org0ac485b">Examples</h2>
<div class="outline-text-2" id="text-org0ac485b">
</div>
<div id="outline-container-org711cac8" class="outline-3">
<h3 id="org711cac8">Change of coordinates</h3>
<div class="outline-text-3" id="text-org711cac8">
<p>
Suppose you are doing an integral and you want to change from Cartesian to polar
coordinates. What was for Jacobian in this case again? The following
demonstrates how to compute it with Maxima.
</p>
</div>

<div id="outline-container-org4f49130" class="outline-4">
<h4 id="org4f49130">Cartesian to polar</h4>
<div class="outline-text-4" id="text-org4f49130">
<div class="org-src-container">
<pre class="src src-maxima">[x,y] <span style="color: #4f97d7; font-weight: bold;">:</span> [r <span style="color: #4f97d7; font-weight: bold;">*</span> <span style="color: #4f97d7;">cos</span>(p), r <span style="color: #4f97d7; font-weight: bold;">*</span> <span style="color: #4f97d7;">sin</span>(p)];
<span style="color: #4f97d7;">trigsimp</span>(<span style="color: #4f97d7;">determinant</span>(jacobian([x,y], [r,p])));
<span style="color: #2aa1ae; background-color: #292e34;">/*</span>
<span style="color: #2aa1ae; background-color: #292e34;">r</span>
<span style="color: #2aa1ae; background-color: #292e34;">*/</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org672f51f" class="outline-4">
<h4 id="org672f51f">Cartesian to spherical</h4>
<div class="outline-text-4" id="text-org672f51f">
<div class="org-src-container">
<pre class="src src-maxima">[x,y,z] <span style="color: #4f97d7; font-weight: bold;">:</span> [r <span style="color: #4f97d7; font-weight: bold;">*</span> <span style="color: #4f97d7;">sin</span>(p) <span style="color: #4f97d7; font-weight: bold;">*</span> <span style="color: #4f97d7;">cos</span>(t), r <span style="color: #4f97d7; font-weight: bold;">*</span> <span style="color: #4f97d7;">sin</span>(p) <span style="color: #4f97d7; font-weight: bold;">*</span> <span style="color: #4f97d7;">sin</span>(t), r <span style="color: #4f97d7; font-weight: bold;">*</span> <span style="color: #4f97d7;">cos</span>(p)];
<span style="color: #4f97d7;">trigsimp</span>(<span style="color: #4f97d7;">determinant</span>(jacobian([x,y,z], [r,p,t])));
<span style="color: #2aa1ae; background-color: #292e34;">/*</span>
<span style="color: #2aa1ae; background-color: #292e34;">            2</span>
<span style="color: #2aa1ae; background-color: #292e34;">    sin(p) r</span>
<span style="color: #2aa1ae; background-color: #292e34;">*/</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc52b385" class="outline-3">
<h3 id="orgc52b385">Differential equations: simple</h3>
<div class="outline-text-3" id="text-orgc52b385">
<p>
Note that we have used the quote on the call to <code>diff</code> to prevent this being
evaluated as we are defining the ODE here.
</p>

<div class="org-src-container">
<pre class="src src-maxima">eq <span style="color: #4f97d7; font-weight: bold;">:</span> <span style="color: #4f97d7; font-weight: bold;">'</span><span style="color: #4f97d7;">diff</span>(y,x) <span style="color: #4f97d7; font-weight: bold;">=</span> <span style="color: #4f97d7; font-weight: bold;">-</span>y;

<span style="color: #4f97d7;">ode2</span>(eq, y, x);

sol <span style="color: #4f97d7; font-weight: bold;">:</span> <span style="color: #4f97d7;">ic1</span>(<span style="color: #4f97d7; font-weight: bold;">%</span>, x <span style="color: #4f97d7; font-weight: bold;">=</span> <span style="color: #a45bad;">1</span>, y <span style="color: #4f97d7; font-weight: bold;">=</span> <span style="color: #a45bad;">8</span>);

<span style="color: #4f97d7;">plot2d</span>(<span style="color: #4f97d7;">rhs</span> (sol), [x, <span style="color: #a45bad;">0</span>,<span style="color: #a45bad;">4</span>], [y, <span style="color: #a45bad;">0</span>, <span style="color: #a45bad;">10</span>]);
</pre>
</div>
</div>
</div>

<div id="outline-container-org18fee26" class="outline-3">
<h3 id="org18fee26">Simplification</h3>
<div class="outline-text-3" id="text-org18fee26">
<p>
This snippet demonstrates some ways to get different expressions for the same
quantity. Note how the numerator and denominator can be separated to have
different simplification steps applied as in the definition of <code>d</code>.
</p>

<div class="org-src-container">
<pre class="src src-maxima">a <span style="color: #4f97d7; font-weight: bold;">:</span> (x<span style="color: #4f97d7; font-weight: bold;">*</span> <span style="color: #4f97d7;">exp</span>(<span style="color: #4f97d7; font-weight: bold;">-</span>aa) <span style="color: #4f97d7; font-weight: bold;">+</span> y <span style="color: #4f97d7; font-weight: bold;">+</span> y <span style="color: #4f97d7; font-weight: bold;">*</span> <span style="color: #4f97d7;">exp</span>(<span style="color: #4f97d7; font-weight: bold;">-</span>aa))<span style="color: #4f97d7; font-weight: bold;">/</span> (y<span style="color: #4f97d7; font-weight: bold;">*</span><span style="color: #4f97d7;">exp</span>(<span style="color: #4f97d7; font-weight: bold;">-</span>aa) <span style="color: #4f97d7; font-weight: bold;">+</span> x);
b <span style="color: #4f97d7; font-weight: bold;">:</span> <span style="color: #4f97d7;">ratsimp</span>(a);
c <span style="color: #4f97d7; font-weight: bold;">:</span> collectterms(<span style="color: #4f97d7;">expand</span>(<span style="color: #4f97d7;">num</span>(b)), <span style="color: #4f97d7;">exp</span>(aa)) <span style="color: #4f97d7; font-weight: bold;">/</span> <span style="color: #4f97d7;">denom</span>(b);
d <span style="color: #4f97d7; font-weight: bold;">:</span> <span style="color: #4f97d7;">block</span>(
  [ea<span style="color: #4f97d7; font-weight: bold;">:</span> <span style="color: #4f97d7;">exp</span>(<span style="color: #4f97d7; font-weight: bold;">-</span>aa)],
  collectterms(<span style="color: #4f97d7;">expand</span>(ea <span style="color: #4f97d7; font-weight: bold;">*</span> <span style="color: #4f97d7;">num</span>(b)), ea) <span style="color: #4f97d7; font-weight: bold;">/</span> <span style="color: #4f97d7;">expand</span>(ea <span style="color: #4f97d7; font-weight: bold;">*</span> <span style="color: #4f97d7;">denom</span>(b))
  );
<span style="color: #4f97d7;">display</span>(a, b, c, d);
</pre>
</div>

<pre class="example" id="org938962e">
      - aa           - aa
    %e     y + y + %e     x
a = -----------------------
           - aa
         %e     y + x
          aa
       (%e   + 1) y + x
   b = ----------------
                aa
          y + %e   x
          aa
        %e   y + y + x
    c = --------------
                aa
          y + %e   x
        - aa
      %e     (y + x) + y
  d = ------------------
           - aa
         %e     y + x
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Alex Zarebski</p>
<p class="date">Created: 2021-06-14 Mon 16:59</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
